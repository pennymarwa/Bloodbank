/*********************
$LastChangedDate: 2016-02-11 10:36:47 +0530 (Thu, 11 Feb 2016) $
$Rev: 10557 $
$Author: arun $
********************/

/*
 __   ________  __   __  ______ __  __  __   __  ______    
/\ \ / /\  ___\/\ "-.\ \/\__  _/\ \/\ \/\ "-.\ \/\  __ \   
\ \ \'/\ \  __\\ \ \-.  \/_/\ \\ \ \_\ \ \ \-.  \ \ \/\ \  
 \ \__| \ \_____\ \_\\"\_\ \ \_\\ \_____\ \_\\"\_\ \_____\ 
  \/_/   \/_____/\/_/ \/_/  \/_/ \/_____/\/_/ \/_/\/_____/ 
                                                           
((((((((((((((INDIA'S LEADING VIDEO ECOSYSTEM))))))))))))))
// JavaScript Document
/*
    * 
    * mediaelement-and-player_lite.js||minified     
    * @author Ventuno Technologies.
    * ver.1.1.6.1
    * 
*/
var __vtnU=(typeof __vtnLibUtil!== 'undefined'&& __vtnLibUtil )?__vtnLibUtil:vtnU;var mejs=mejs||{};mejs.version="2.9.5",mejs.meIndex=0,mejs.Utility=__vtnU||{},mejs.MediaFeatures=__vtnU.ua||{},mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var i,n;for(i=0;i<e.length;i++)n=e[i],this.canPlayType(n.type)&&(this.src=n.src)}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.MediaElementDefaults={mode:"auto",defaultVideoWidth:480,defaultVideoHeight:270,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(t,i){var n,r=mejs.MediaElementDefaults,a="string"==typeof t?document.getElementById(t):t,s=a.tagName.toLowerCase(),o="audio"===s||"video"===s,l=a.getAttribute(o?"src":"href"),d=a.getAttribute("poster"),u=a.getAttribute("autoplay"),c=a.getAttribute("preload"),m=a.getAttribute("controls"),h={};for(n in i)r[n]=i[n];return l="undefined"==typeof l||null===l||""==l?null:l,d="undefined"==typeof d||null===d?"":d,c="undefined"==typeof c||null===c||"false"===c?"none":c,u=!("undefined"==typeof u||null===u||"false"===u),m=!("undefined"==typeof m||null===m||"false"===m),h.url=l,h.htmlMediaElement=a,h.url=null!==h.url?mejs.Utility.absolutizeUrl(h.url):"",mejs.MediaFeatures.isBustedAndroid&&(a.src=h.url,a.addEventListener(mejs.MediaFeatures.click,function(){return e.preventDefault(),e.stopPropagation(),a.play(),!1},!1)),this.updateNative(h,r,u,c)},updateNative:function(e,t){var i,n=e.htmlMediaElement;for(i in mejs.HtmlMediaElement)n[i]=mejs.HtmlMediaElement[i];return t.success(n,n),n}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,pauseOtherPlayers:!0,playpauseText:"Play/Pause",stopText:"Stop",duration:-1,timeAndDurationSeparator:" <span> | </span> ",muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"},mejs.mepIndex=0,mejs.players=[],mejs.MediaElementPlayer=function(e,t){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(e,t);var i=this;return i.$media=i.$node=__vtnU.J$(e),i.node=i.media=i.$media[0],"undefined"!=typeof i.node.player?i.node.player:(i.node.player=i,i.options=__vtnU.combineObjs(mejs.MepDefaults,t),mejs.players.push(i),i.init(),i)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var e=this,t=mejs.MediaFeatures,i=__vtnU.J$.extend(!0,{},e.options,{success:function(t,i){e.meReady(t,i)},error:function(t){e.handleError(t)}}),n=e.media.tagName.toLowerCase();if(e.isDynamic="audio"!==n&&"video"!==n,e.isVideo=e.isDynamic?e.options.isVideo:"audio"!==n&&e.options.isVideo,e.$media.removeAttr("controls"),e.id="mep_"+mejs.mepIndex++,e.container=__vtnU.J$('<div id="'+e.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media),e.container.addClass((t.isAndroid?"mejs-android ":"")+(t.isiOS?"mejs-ios ":"")+(t.isiPad?"mejs-ipad ":"")+(t.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio ")),t.isiOS){var r=e.$media.clone();e.container.find(".mejs-mediaelement").append(r),e.$media.remove(),e.$node=e.$media=r,e.node=e.media=r[0]}else e.container.find(".mejs-mediaelement").append(e.$media);var a=e.isVideo?"video":"audio",s=a.substring(0,1).toUpperCase()+a.substring(1);e.width=e.options[a+"Width"]>0||e.options[a+"Width"].toString().indexOf("%")>-1?e.options[a+"Width"]:""!==e.media.style.width&&null!==e.media.style.width?e.media.style.width:null!==e.media.getAttribute("width")?e.$media.attr("width"):e.options["default"+s+"Width"],e.height=e.options[a+"Height"]>0||e.options[a+"Height"].toString().indexOf("%")>-1?e.options[a+"Height"]:""!==e.media.style.height&&null!==e.media.style.height?e.media.style.height:null!==e.$media[0].getAttribute("height")?e.$media.attr("height"):e.options["default"+s+"Height"],e.setPlayerSize(e.width,e.height),mejs.MediaElement(e.$media[0],i)},meReady:function(e,t){{var i=this;mejs.MediaFeatures}i.created||(i.created=!0,i.media=e,i.domNode=t,i.setPlayerSize(i.width,i.height),i.isVideo&&i.options.enableAutosize&&i.media.addEventListener("loadedmetadata",function(e){i.options.videoHeight<=0&&null===i.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(i.setPlayerSize(e.target.videoWidth,e.target.videoHeight),i.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1),e.addEventListener("play",function(){for(var e=0,t=mejs.players.length;t>e;e++){var n=mejs.players[e];n.id==i.id||!i.options.pauseOtherPlayers||n.paused||n.ended||n.pause(),n.hasFocus=!1}i.hasFocus=!0},!1),i.media.addEventListener("ended",function(){try{i.media.setCurrentTime(0)}catch(e){}i.media.pause(),i.options.loop&&i.media.play()},!1),i.media.addEventListener("loadedmetadata",function(){i.isFullScreen||i.setPlayerSize(i.width,i.height)},!1),setTimeout(function(){i.setPlayerSize(i.width,i.height)},50),__vtnU.J$(window).resize(function(){i.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||i.setPlayerSize(i.width,i.height)}),i.options.success&&("string"==typeof i.options.success?window[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i)))},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(e,t){var i=this;"undefined"!=typeof e&&(i.width=e),"undefined"!=typeof t&&(i.height=t),i.height.toString().indexOf("%")>0||"100%"===i.$node.css("max-width")?(i.container.width("100%").height("100%"),i.$media.width("100%").height("100%")):i.container.width(i.width).height(i.height)},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this;e.isDynamic||e.$node.insertBefore(e.container),e.container.remove()},isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,fullScreenbuilt:!1,buildFullScreen:function(){var e=this;return e.globalPlayerConfig=vtnGlblPCS.getInstance(),e.fullScreenbuilt?"":(e.fullScreenbuilt=!0,e.vnVideoWrapper=e.container.parent(),e.outerWrapper=__vtnU.J$(e.vnVideoWrapper[0]).parent()[0],e.docStyleOverflow=e.docStyleOverflow?e.docStyleOverflow:document.documentElement.style.overflow||"visible",__vtnU.J$(e.outerWrapper).on("vtnExitFullScreen",function(){e.exitFullScreen()}),__vtnU.J$(e.media).on("vtnExitFullScreen",function(){e.exitFullScreen()}),void __vtnU.J$(window).on("vtnFullScreenResize",function(){e.extraFullScreenHacks(),setTimeout(function(){e.extraFullScreenHacks()},500)}))},fsEvntListnr:function(){document.webkitIsFullScreen||__vtnU.J$(this).trigger("vtnExitFullScreen")},fsResize:function(){__vtnU.J$(this).trigger("vtnFullScreenResize")},enterFullScreen:function(e,t,i){var n,r=this,a=0;if(r.buildFullScreen(),r.vnVideoWrapper[0].style.height.toString().indexOf("%")>0?r.normalHeight=r.normalWidth="100%":(r.normalHeight="undefined"!=typeof t?t:__vtnU.J$(r.outerWrapper).height(),r.normalWidth="undefined"!=typeof e?e:__vtnU.J$(r.outerWrapper).width()),"native"==r.globalPlayerConfig.getFullScreenSupport()){r.media.addEventListener("webkitfullscreenchange",r.fsEvntListnr,!1);try{r.media.webkitEnterFullScreen()}catch(s){}}else if("fallback"==r.globalPlayerConfig.getFullScreenSupport())r.extraFullScreenHacks(),setTimeout(function(){r.extraFullScreenHacks()},500),__vtnU.J$(r.outerWrapper).addClass("mejs-container-fullscreen"),r.isFullScreen=!0,__vtnU.J$(window).on("resize",r.fsResize),__vtnU.J$(r).trigger("fullScreenChange");else{n=function(){clearInterval(a),r.outerWrapper.removeEventListener("webkitfullscreenchange",n,!1),mejs.MediaFeatures.isFullScreen()?(r.outerWrapper.addEventListener("webkitfullscreenchange",r.fsEvntListnr,!1),r.globalPlayerConfig.setFullScreenSupport("api"),r.extraFullScreenHacks(),setTimeout(function(){r.extraFullScreenHacks()},500),__vtnU.J$(r.outerWrapper).addClass("mejs-container-fullscreen"),r.isFullScreen=!0,__vtnU.J$(window).on("resize",r.fsResize),__vtnU.J$(r).trigger("fullScreenChange")):(r.globalPlayerConfig.setFullScreenSupport(vtnPlayerUtils.deviceType<=9?"native":"fallback"),__vtnU.J$(r).trigger("fullScreenReconsider"))},r.outerWrapper.addEventListener("webkitfullscreenchange",n,!1),a=setInterval(function(){n()},500);try{mejs.MediaFeatures.requestFullScreen(r.outerWrapper)}catch(s){n()}}},exitFullScreen:function(){var e=this;if(vtnPlayerUtils.deviceType==2)e.media.webkitExitFullscreen();__vtnU.J$(window).off("resize",e.fsResize),e.outerWrapper&&e.outerWrapper.removeEventListener("webkitfullscreenchange",e.fsEvntListnr,!1),e.media&&e.media.removeEventListener("webkitfullscreenchange",e.fsEvntListnr,!1),mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=e.docStyleOverflow||"visible",e.normalWidth&&e.normalHeight&&(__vtnU.J$(e.outerWrapper).removeClass("mejs-container-fullscreen").width("100%").height("100%"),e.container.width(e.normalWidth).height(e.normalHeight),e.vnVideoWrapper.width(e.normalWidth).height(e.normalHeight),e.$media.width(e.normalWidth).height(e.normalHeight)),setTimeout(function(){e.outerWrapper&&e.outerWrapper.scrollIntoView()},400),e.isFullScreen=!1,__vtnU.J$(e).trigger("fullScreenChange")},extraFullScreenHacks:function(){var e=this;document.documentElement.style.overflow="hidden",e.container.width("100%").height("100%"),e.vnVideoWrapper.width("100%").height("100%"),e.$media.width("100%").height("100%"),(vtnPlayerUtils.deviceType>=4||__vtnU.ua.isChrome)&&__vtnU.J$(e.outerWrapper).css({width:window.innerWidth+"px",height:window.innerHeight+"px"})}},window.MediaElementPlayer=mejs.MediaElementPlayer;
// JavaScript Document
/*
/*
    * 
    * @author Ventuno Technologies.
    * ver.3.3.0.5
    * 
*/
function w(e,t,r){return m=null,w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da,w.apply(m,arguments)}function ca(e,t,r){return e.call.apply(e.bind,arguments)}function da(e,t,r){if(e||f(Error()),2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function f(e){throw e}"undefined"==typeof window.VTN_JSON&&(window.VTN_JSON="undefined"!=typeof JSON&&"function"==typeof JSON.parse&&"function"==typeof JSON.stringify?JSON:window.VTN_JSON||__vtnU.jsonObject()),Function.prototype.bind=Function.prototype.bind||function(e,t){if(1<arguments.length){var r=Array.prototype.slice.call(arguments,1);return r.unshift(this,e),w.apply(m,r)}return w(this,e)};var vtnGlblPCS="undefined"!=typeof window.vtnGlblPCS?window.vtnGlblPCS:function(){function e(){var e,t,r="unknown",i="",a="MB",n="jsVideoCallbacks",o=function(e){"string"==typeof e&&e&&(n=e)},s=function(e,t){var r="string"==typeof e&&e?e:"",i="string"==typeof t&&"ad"===t?"ad":"content";if(r&&window[n]&&"function"==typeof window[n])try{window[n](i+"_"+r)}catch(a){console.log(a)}},l=function(t){return"undefined"!=typeof t&&t&&t!==a?(a="MB"==t||"PC"==t?t:"device",void("PC"==t&&e("api"))):""};try{i="undefined"!=typeof Storage?localStorage:""}catch(c){}e=function(e){if("undefined"==typeof e||!e||e==r)return"";r="native"==e||"api"==e||"fallback"==e?e:"unknown";try{i&&i.setItem("vtnFullScreenSupType",r)}catch(t){}__vtnU.inIframe()&&(r="nosupport")};try{t=i&&i.vtnFullScreenSupType?i.vtnFullScreenSupType:"unknown"}catch(c){}return t=vtnPlayerUtils.deviceType<=3||!__vtnU.ua.hasTrueDivFullScreen?"native":i&&i.vtnFullScreenSupType?i.vtnFullScreenSupType:"unknown",e(vtnPlayerUtils.deviceType<=3||!__vtnU.ua.hasTrueDivFullScreen?"native":i&&i.vtnFullScreenSupType?i.vtnFullScreenSupType:"unknown"),{getFullScreenSupport:function(){return r},setFullScreenSupport:function(t){e(t)},getDeviceType:function(){return a},setDeviceType:function(e){l(e)},setExtCB:function(e){o(e)},makeExtCB:function(e,t){s(e,t)}}}var t;return{getInstance:function(){return t||(t=e()),t}}}();if("undefined"!=typeof vtnPlayerUtils);else var vtnJSGC="undefined"!=typeof vtnJSGC&&vtnJSGC?vtnJSGC:__vtnLibGlbCS.getInstance().getPaths(),vtnPlayerUtils={shouldPlay:!1,deviceType:"",loadingGif:__vtnU.lgb(),spritePath:vtnJSGC.html5SpritePath||"",preloadPath:vtnJSGC.preloadVidPath||"",log:function(e){},deviceCheck:function(){vtnGlblPCS.getInstance();__vtnU.ua.isAndroid&&__vtnU.ua.isWebkit||__vtnU.modernizr&&__vtnU.modernizr.video&&__vtnU.modernizr.video.h264?(this.deviceType=0,__vtnU.ua.isiPhone&&(this.deviceType=1),__vtnU.ua.isiPad&&(this.deviceType=2),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion<4&&(this.deviceType=3),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4&&(this.deviceType=4),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4&&__vtnU.ua.isChrome&&(this.deviceType=5),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.1&&(this.deviceType=6),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.1&&__vtnU.ua.isChrome&&(this.deviceType=7),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.2&&(this.deviceType=8),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.2&&__vtnU.ua.isChrome&&(this.deviceType=9),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.4&&(this.deviceType=10),__vtnU.ua.isAndroid&&__vtnU.ua.andriodVersion&&__vtnU.ua.andriodVersion>=4.4&&__vtnU.ua.isChrome&&(this.deviceType=11),this.shouldPlay=!0):this.shouldPlay=!1},globalAttributesParser:function(e){var t=vtnGlblPCS.getInstance(),r={plType:"vp",apiPath:"",eVKey:"",posterURL:"",videoTitle:"",mediaURL:"",mediaW:400,mediaH:320,mediaWPer:100,responsive:!1,flexible:!1,fillFit:!1,ratio:.5625,displayMode:"",mInitializer:"",rObj:"",playerNS:"",mFileType:"",touchStart:!1,canTouchStart:!0,plpWidth:0,plpPosition:"right",callBack:"",mediaURL:"",category:"",categoryID:"",externalContent:!1,autoPlay:"#",volume:"#",muted:"#",userInit:!1};if(e.plyType?r.plType=e.plyType:r.plType="vp",e.fillFit?r.fillFit=e.flexible:r.fillFit=!1,("fp"==r.plType||"epc"==r.plType)&&(r.fillFit=!0),r.userInit=e.userInit?!0:!1,e.apiPath?r.apiPath=e.apiPath:r.apiPath="",e.vKey?r.eVKey=e.vKey:r.eVKey="",e.plpKey?r.plpKey=e.plpKey:r.plpKey="",e.responsive?r.responsive=e.responsive:r.responsive=!1,e.flexible?r.flexible=e.flexible:r.flexible=!1,e.ratio&&"4:3"==e.ratio&&(r.ratio=.75),e.title?r.videoTitle=e.title.toString():r.videoTitle="",e.poster?r.posterURL=e.poster.toString():r.posterURL="",e.mInitializer?r.mInitializer=e.mInitializer:r.mInitializer="",e.rObj?r.rObj=e.rObj:r.rObj="",e.mFileType?r.mFileType=e.mFileType:r.mFileType="",e.callBack?r.callBack=e.callBack:r.callBack=function(){},e.width?r.mediaW=e.width:r.mediaW=0,e.height?r.mediaH=e.height:r.mediaH=0,r.mediaWPer=parseInt(r.mediaW,10),r.mediaWPer>100&&(r.mediaWPer=100),e.plpWidth?r.plpWidth=e.plpWidth.toString():r.plpWidth="",e.plpPosition?r.plpPosition=e.plpPosition.toString():r.plpPosition="right",r.playerNS=e.rObj?e.rObj+".html5Player":"",r.mediaURL=e.mediaURL?e.mediaURL:"",r.category=e.category?e.category:"",r.categoryID=e.categoryID?e.categoryID:"",r.externalContent=e.externalContent?!0:!1,r.canTouchStart=!!e.canTouchStart,"plp"==r.plType&&(r.responsive||("bottom"==r.plpPosition?r.mediaH=Math.floor(70*r.mediaH)/100:""!=r.plpWidth&&(r.mediaW=r.plpWidth,r.mediaWPer=65))),r.autoPlay=e.autoplay?"true"==e.autoplay?!0:!1:"#",e.volume){var i=parseFloat(e.volume);i&&(0>i?i=0:i>100&&(i=100),r.volume=i/100)}return r.muted=e.muted?"true"==e.muted?!0:!1:"#",e.device&&t.setDeviceType(e.device),"MB"==t.getDeviceType()&&(r.autoPlay=!1),r},inserPlayerCSS:function(e){return"undefined"!=typeof window.vtnHTML5PlayerCSSAdded&&window.vtnHTML5PlayerCSSAdded?"":(window.vtnHTML5PlayerCSSAdded=!0,void __vtnU.insertCSSCode("vtn-skin-gray",".vtnPlayerTotalWrapper,.vtnPlayerTotalWrapper *,.mejs-container,.mejs-container *{margin:0 !important;padding:0 !important;border:none !important;text-align:left!important;clear:none!important;line-height:1.2!important}.ven_primary_viewport{position:absolute;width:100%;height:100%;top:0;left:0;}.vtnPlayerTotalWrapper .vnThumbOverlay{width:100%;height:100%;position:relative;overflow:hidden;}.vtnPlayerTotalWrapper .vnThumbOverlay div.vnTitle{position:absolute;height:5px;width:100%;top:0;left:0;overflow:hidden;background:-moz-linear-gradient(top,rgba(28,28,28,.7) 0,rgba(0,0,0,0) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(28,28,28,.7)),color-stop(100%,rgba(0,0,0,0)));background:-webkit-linear-gradient(top,rgba(28,28,28,.7) 0,rgba(0,0,0,0) 100%);background:-o-linear-gradient(top,rgba(28,28,28,.7) 0,rgba(0,0,0,0) 100%);background:-ms-linear-gradient(top,rgba(28,28,28,.7) 0,rgba(0,0,0,0) 100%);background:linear-gradient(to bottom,rgba(28,28,28,.7) 0,rgba(0,0,0,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#b31c1c1c', endColorstr='#00000000', GradientType=0)}.vtnPlayerTotalWrapper .vnThumbOverlay div.vnTitle span{padding:5px !important;position:absolute;top:0;left:0;font-family:Verdana,Geneva,sans-serif;color:#fff;text-align:left;font-size:14px;text-shadow:1px 1px 1px gray}.vtnPlayerTotalWrapper .vnOuterWrapper{position:absolute;top:0;left:0;overflow:hidden;}.mejs-container,.mejs-container *{margin:0 !important;padding:0 !important;text-align:left;}.mejs-container { position: relative; background: #000; font-family: Helvetica, Arial;text-align: left;vertical-align: top;text-indent: 0;}.mejs-container-fullscreen,.vtnPlayerTotalWrapper .vnOuterWrapper.mejs-container-fullscreen{position:fixed;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:99999;}.mejs-container-fullscreen .mejs-mediaelement,.mejs-container-fullscreen video {width: 100%;height: 100%;}.mejs-mediaelement{ position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.vtn-skin-gray .mejs-overlay-loading{position:absolute;top:0;left:0;margin:0 !important;width:56px;height:56px;position:absolute;}.vtn-skin-gray .mejs-overlay-loading span{display:block;position:relative;top:4px;left:4px;width:48px;height:48px;-moz-border-radius: 24px;-webkit-border-radius: 24px; border-radius:24px;-webkit-box-shadow:0px 0px 6px 1px rgba(0,0,0,0.65);;-moz-box-shadow:0px 0px 6px 1px rgba(0,0,0,0.65);;box-shadow:0px 0px 6px 1px rgba(0,0,0,0.65);; background: rgba(255,255,255,0.93) url("+vtnPlayerUtils.loadingGif+") no-repeat 0 0;}.vtnPlayerTotalWrapper div.vnBigPlayBtn, .vnBigPlayBtn{background-image:url("+vtnPlayerUtils.spritePath+");background-position:0 0;height:100px;width:100px}.vtnPlayerTotalWrapper div.vnBigPlayBtn.small, .vnBigPlayBtn.small{background-image:url("+vtnPlayerUtils.spritePath+");background-position:50px 0;height:50px;width:50px}.mejs-container .mejs-controls{position:absolute;list-style-type:none;margin:0 !important;padding:0 !important;bottom:0;left:0;height:30px;width:100%;}.vtn-skin-gray.mejs-container .mejs-controls{background:rgba(21,21,21,.76);height:31px;bottom:4px;-moz-border-radius:7px;-webkit-border-radius:7px;border-radius:7px;-khtml-border-radius:7px;}.mejs-container .mejs-controls  div{list-style-type:none;background-image:none;display:block;float:left;margin:0 !important;padding:0 !important;width:26px;height:26px;font-size:11px;line-height:11px!important;background:0;font-family: Helvetica, Arial;border:0;}.mejs-controls .mejs-button button {cursor:pointer;display: block;font-size: 0;line-height:0!important;text-decoration: none;margin:7px 5px !important;padding:0 !important;position: absolute;border: 0;}.vtn-skin-gray .mejs-controls .mejs-button button{margin:5px 0 5px 8px !important;height:20px;width:18px;background:transparent url("+vtnPlayerUtils.spritePath+") no-repeat}.mejs-container .mejs-controls .mejs-time {color: #fff;display: block;height: 17px;width: auto;padding:8px 2px 0 3px !important;overflow: hidden;text-align: center;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;margin:0 3px;}.mejs-container .mejs-controls .mejs-time span {font-size: 11px;color: #fff;line-height:12px!important;display: block;float: left;margin:1px 2px 0 0 !important;width: auto;}.mejs-controls .mejs-play button {background-position:0 0;}.mejs-controls .mejs-pause button {background-position:0 -16px;}.vtn-skin-gray .mejs-controls .mejs-play button{background-position:0 -100px}.vtn-skin-gray .mejs-controls .mejs-pause button{background-position:0 -120px}.mejs-controls div.mejs-time-rail {width: 200px;padding-top: 5px !important;margin:0 !important;}.mejs-controls .mejs-time-rail span {display: block;position:absolute;width:180px;height:10px;cursor: pointer;padding:0px !important;}.vtn-skin-gray .mejs-controls .mejs-time-rail span{border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;height:8px;}.vtn-skin-gray .mejs-controls .mejs-time-rail .mejs-time-total{margin:5px 0 !important;background:0;border:1px solid #707178;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px}.vtn-skin-gray .mejs-controls .mejs-time-rail .mejs-time-loaded{background:#4b4c52; width: 0;}.vtn-skin-gray .mejs-controls .mejs-time-rail .mejs-time-current{background:#98999f; width: 0;}.mejs-controls .mejs-time-rail .mejs-time-handle{position: absolute;margin:0 !important;cursor: pointer;}.vtn-skin-gray .mejs-controls .mejs-time-rail .mejs-time-handle{display:block;width:16px;height:14px;background:#f3efe4;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;border:0;top:-3px;text-align:center}.mejs-controls .mejs-fullscreen-button button {background-position:-32px 0;}.mejs-controls .mejs-unfullscreen button {background-position:-32px -16px;}.vtn-skin-gray .mejs-controls .mejs-fullscreen-button button{width:20px;background-position:-36px -100px;margin-left:0 !important;}.vtn-skin-gray .mejs-controls .mejs-unfullscreen button{background-position:-36px -120px}.mejs-clear {clear: both;}.mejs-container .mejs-controls div.vnLiveText{text-align:center;position:absolute;top:12px;width:41px;height:16px;background-image:url("+vtnPlayerUtils.spritePath+");background-position:-59px -124px; top:9px;width:41px;height:16px;}.mejs-container .mejs-controls div.controle_disable{float:none;position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.5);-moz-border-radius:7px;-webkit-border-radius:7px;border-radius:7px;-khtml-border-radius:7px;}.mejs-container .adIndicator{color:#fff;font-size:12px!important;position:absolute;left:5px;bottom:35px;text-shadow:1px 1px 1px #000}.vnOuterWrapper .skip_ad{color:#fff;font-size:14;position:absolute;right:0;bottom:55px;background:rgba(0,0,0,.50);-webkit-border-top-left-radius:5px;-webkit-border-bottom-left-radius:5px;-moz-border-radius-topleft:5px;-moz-border-radius-bottomleft:5px;border-top-left-radius:5px;border-bottom-left-radius:5px;font-family:Helvetica, Arial;text-align:left;padding:5px 29px 5px 8px !important;box-shadow:0px 0px 3px 2px rgba(255,255,255,.40)}.vnOuterWrapper .skip_icon{width:12px;height:10px;background-image:url("+vtnPlayerUtils.spritePath+");background-position:-59px -105px;position:absolute;right:9px;top:8px;}.ven_overlay.active{background-color:rgba(115,115,115,.50);}.ven_overlay div{cursor:pointer!important;}.vtn_overlay_close{position:absolute;top:1px;right:1px;width:32px;height:13px;background-image:url("+vtnPlayerUtils.spritePath+");background-position:-111px -131px;}.vtn_overlay_open{position:absolute;bottom:0px;left:0px;width:32px;height:13px;background-image:url("+vtnPlayerUtils.spritePath+");background-position:-111px -146px;}",1))},decode:function(e){try{if(""!=e&&void 0!=e){for(var t="0123456789ABCDEFabcdef",r="",i=0;i<e.length;){var a=e.charAt(i);"+"==a?(r+=" ",i++):"%"==a?i<e.length-2&&-1!=t.indexOf(e.charAt(i+1))&&-1!=t.indexOf(e.charAt(i+2))?(r+=unescape(e.substr(i,3)),i+=3):(r+="%[ERROR]",i++):(r+=a,i++)}return r}}catch(n){}},errorTracker:function(e,t,r){var i,a,n,o,s="undefined"!=typeof r?r:"",l="undefined"!=typeof t?Array.isArray(t)?t:[t]:[""],c=e.length,d=l.length;for(n=0;c>n;n++)for(o=0;d>o;o++)a=l[o],i=a?String(e[n]).replace("[ERRORCODE]",a):e[n],i=i.replace("[ERRORINFO]",s),__vtnU.hitTracker(i,1)},makeExtCB:function(e,t){var r=vtnGlblPCS.getInstance();r&&r.makeExtCB&&r.makeExtCB(e,t)},getNodeCDATA:function(e){if(e.hasChildNodes()){for(var t=e.firstChild;t&&4!=t.nodeType;)t=t.nextSibling;if(t&&4==t.nodeType)return t.nodeValue}return null},xml2JObj:function(e){function t(e,t){var r=e,t=t;switch(r){case"StaticResource":var i,o={};for(i in t)switch(i){case"nodeValue":o.staticURL=t[i];break;default:o[i]=t[i]}t=o;break;case"MediaFile":var i,o={};for(i in t)switch(i){case"nodeValue":o.mediaURL=t[i];break;default:o[i]=t[i]}t=o;break;case"Tracking":r=t.event,"progress"==r?(n=t.offset||"",t={value:t.nodeValue,offset:n}):t=t.nodeValue;break;default:t.nodeValue&&(t=t.nodeValue)}a[r]?(a[r].constructor!=Array&&(a[r]=[a[r]]),a[r][a[r].length]=t):a[r]=t}var r,i,a={},n="";for(r=0;i=e.attributes[r];r++)t(i.name,i.value);for(r=0;i=e.childNodes[r];r++)if(1==i.nodeType){var o=null;if(o=this.getNodeCDATA(i)){var s,l,c=o;if("undefined"!=typeof i.attributes[0])for(c={nodeValue:o},s=0;l=i.attributes[s];s++)c[l.name]=l.value;t(i.nodeName,c)}else if(1==i.childNodes.length&&3==i.firstChild.nodeType){var s,l,c=i.firstChild.nodeValue.trim();if("undefined"!=typeof i.attributes[0])for(c={nodeValue:i.firstChild.nodeValue.trim()},s=0;l=i.attributes[s];s++)c[l.name]=l.value;t(i.nodeName,c)}else t(i.nodeName,this.xml2JObj(i))}return a},timeCode2Secs:function(e){var t=0;return split=e.split(":"),split[split.length-1]&&(t+=parseInt(split[split.length-1])||0),split[split.length-2]&&(t+=60*parseInt(split[split.length-2])||0),split[split.length-3]&&(t+=3600*parseInt(split[split.length-3])||0),t}};var VTHtml5Player=function(){var e=(new Date).getTime()+Math.random().toString().replace(".","");this.configs={preloadVAST:!0,vtLNS:".controller_validator"+e,ver:vtnCFG.html5ver||"1.1",videoID:"ventuno_player",mastLoadDelay:4e4,skin:"vtn-skin-gray",posterMode:"poster",playerMode:"player"},this.globalPlayerConfig=vtnGlblPCS.getInstance(),this.playCount=0,this.replay=!1};VTHtml5Player.prototype={pubConfig:"",bootup:function(e){var t=this,r=function(){vtnPlayerUtils.inserPlayerCSS(),t.targetDiv="#"+e.targetDiv,t.attributes=vtnPlayerUtils.globalAttributesParser(e),e.pubConfig&&(t.pubConfig=e.pubConfig),t.view=new VTHtml5PlayerView(t.targetDiv,t.configs,t.attributes),t.view.setupPrimaryViewport(),"sp"==e.plyType&&t.pubConfig?t.loadPubConfig(t.pubConfig):e.playlistObj?t.processPlaylist(e.playlistObj):t.attributes.eVKey?t.loadPlayList(t.attributes&&t.attributes.userInit):t.hitError(1)};__vtnU.J$&&__vtnU.J$.fn&&__vtnU.J$.fn.jquery?r():__vtnU.loadJQuery&&__vtnU.loadJQuery(function(){__vtnU.J$="undefined"!=typeof __vtnLibUtil&&__vtnLibUtil.J$?__vtnLibUtil.J$:vtnU.J$,r()})},loadPubConfig:function(e){var t=this,r=__vtnU.base64_encode(e);t.loader=new vtnParser.VTNXHRequest(t.attributes.apiPath+"standalone/",function(e){if(e&&!e.error&&e.response)try{t.processPlaylist(VTN_JSON.parse(e.response))}catch(r){console.log(r),t.hitError(0)}else t.hitError(0)},"json",3e3,"sp_config="+r)},loadPlayList:function(e){var t=this,r=t.attributes.userInit="undefined"!=typeof e&&e?"true":"false",i="",a=(new Date).getTime()+Math.random().toString().replace(".",""),n=(new Date).getTime()+a,o=0,s="",l=function(){var e={},a="",c="",d=t.attributes.categoryID?"&catid="+t.attributes.categoryID:"";o++,s=t.attributes.externalContent?function(){return""+(t.attributes.mediaURL?"&cturl="+__vtnU.base64_encode(t.attributes.mediaURL).replace(/\//g,"~"):"")+(t.attributes.posterURL?"&ctpos="+__vtnU.base64_encode(t.attributes.posterURL).replace(/\//g,"~"):"")+(t.attributes.category?"&ctcat="+__vtnU.base64_encode(t.attributes.category).replace(/\//g,"~"):"")}():"";try{e=__vtnU.playerPos(t.targetDiv.substr(1),!0)}catch(p){e.w=String(t.attributes.mediaW).replace("%",""),e.h=String(t.attributes.mediaH).replace("%","")}if(o>=3||String(e.x)&&String(e.y)&&e.urlbase){a=e.urlbase||escape(window.location.href.split("?")[0]);try{a=__vtnU.base64_encode(a),a="string"==typeof a?a.replace(/\//g,"~"):""}catch(p){a=""}return c="ver="+t.configs.ver+"&pad="+t.attributes.playerNS+".processPCPlaylist&ifrm="+(__vtnU.inIframe()?"1":"0")+"&w="+(e.w||"0")+"&h="+(e.h||"0")+"&x="+(e.x||"0")+"&y="+(e.y||"0")+"&oh="+(e.oh||"")+"&er="+r+"&purl="+a+d+s,i=t.attributes.apiPath+t.attributes.eVKey+"/"+c+"/"+n,__vtnU.loadJSCSSIfrm(i,"js",1),t.view.loadIndicate(),""}setTimeout(function(){l()},300)};l()},processPCPlaylist:function(e){this.processPlaylist(VTN_JSON.parse(e))},processPlaylist:function(_playlist){var t=this,element,error;t.parser&&(t.parser.destroy(),t.parser=null),t.parser=new vtnParser.VTNPlaylsitParser(_playlist,t.attributes.canTouchStart,function(_returnObj){var localAutoPlayValue=t.attributes.autoPlay;if(_returnObj.error)"Media Error - hls error"==_returnObj.error&&t.hitError(5),"Media Error - media error"==_returnObj.error?t.hitError(2):t.replay?t.playMedia():t.hitError(3),t.replay||t.attributes.callBack({error:_returnObj.error});else if(t.view&&_returnObj.config&&_returnObj.config.cBarObj&&t.view.setStyle(_returnObj.config.cBarObj),_returnObj.media&&_returnObj.media.length){if(t.replay||t.attributes.callBack({success:_returnObj.media.length>1?"ad":"noad"}),__vtnU.vnBeaconCall("html5&status=plsuccess"),t.elements&&t.elements.length)for(var i=0;i<t.elements.length;i++)t.elements[i]&&(__vtnU.J$(t.elements[i]).off(t.configs.vtLNS),t.elements[i].destroy());t.elements=[],t.configs.wrapperCount=_returnObj.config&&_returnObj.config.wrapperCount?_returnObj.config.wrapperCount:vtnParser.WRAPPER_COUNT,t.configs.vastTimeout=_returnObj.config&&_returnObj.config.vastTimeout?_returnObj.config.vastTimeout:vtnParser.VAST_DEFAULT_TIMEOUT;for(var i in _returnObj.media)element=new VTMediaElement(_returnObj.media[i],t.configs),"sp"==t.attributes.plType?t.elements.push(element):element.contentType!==vtnParser.RELATED_VIDEOS&&t.elements.push(element);var handlePlayClick=function(e){t.replay&&t.hitTracker("replay"),"playClick"==e.type&&(t.attributes.playContent=!0),t.replay?"sp"==t.attributes.plType&&t.pubConfig?t.loadPubConfig(t.pubConfig):t.loadPlayList(!0):t.playMedia()};if(__vtnU.J$(t.view).off("playClick").on("playClick",handlePlayClick),__vtnU.J$(t.view).off("autoPlay").on("autoPlay",handlePlayClick),!t.replay){var uiCall=function(e){var r=String(e.type).replace("uic_","");t.hitTracker("playclicked",r)};__vtnU.J$(t.view).on("uic_touch",uiCall).on("uic_onScroll",uiCall).on("uic_click",uiCall)}if(t.replay&&"PC"!=t.globalPlayerConfig.getDeviceType())t.view.replay=!0,t.playMedia();else{for(var i in _returnObj.config)switch(i){case"playContent":t.attributes.playContent=_returnObj.config[i];case"wrapperCount":case"width":case"height":case"vastTimeout":break;case"autoplay":case"autoPlay":("#"==t.attributes.autoPlay||t.replay)&&(t.attributes.autoPlay=_returnObj.config[i]);break;case"volume":"#"==t.attributes.volume&&(t.attributes.volume=_returnObj.config[i]);break;case"muted":"#"==t.attributes.muted&&(t.attributes.muted=_returnObj.config[i]);break;default:t.replay||(t.attributes[i]=_returnObj.config[i])}t.replay||"PC"!=t.globalPlayerConfig.getDeviceType()||"#"===localAutoPlayValue||(t.attributes.playOnScroll=t.attributes.playContent=t.attributes.autoPlay),t.replay||("hls"==t.elements[0].streamType?t.elements[0].hlsPreload(function(){t.player=t.view.makePlayer(),vtnPlayerUtils.deviceType>=3&&t.elements[0].preload(t.view)}):(t.player=t.view.makePlayer(),vtnPlayerUtils.deviceType>=3&&t.elements[0].preload(t.view)),"plp"==t.attributes.plType&&_returnObj.plpData&&(rObj=t.attributes.rObj,rObj&&eval(rObj).displayHTMLPlaylist(_returnObj.plpData))),"PC"==t.globalPlayerConfig.getDeviceType()&&t.replay&&(t.replay=!1,t.attributes.autoPlay?t.playMedia():t.view.showPoster())}}else t.replay?t.playMedia():t.hitError(3),t.attributes.callBack({error:_returnObj.error})})},playMedia:function(e){var t,r=this,i=function(e){var t;"string"==typeof e?r.hitTracker(t=e):r.hitTracker(t=e.type)},a=function(e){__vtnU.J$(t).off(r.configs.vtLNS),r.playCount++,"undefined"!=typeof e&&"showposter"==e?r.view.showPoster():r.playMedia()};r.playCount<r.elements.length?(t=r.elements[r.playCount],__vtnU.J$(t).off(r.configs.vtLNS),__vtnU.J$(t).on("onreplay"+r.configs.vtLNS,i).on("autoplay"+r.configs.vtLNS,i).on("playback"+r.configs.vtLNS,i).on("ontouch"+r.configs.vtLNS,i),__vtnU.J$(t).on("playComplete"+r.configs.vtLNS,function(){a("continue")}),__vtnU.J$(t).on("pauseComplete"+r.configs.vtLNS,function(){a(0!=r.playCount||r.attributes.playContent?"continue":"showposter")}),__vtnU.J$(t).on("playPassBack"+r.configs.vtLNS,function(){t.passBackObj?(__vtnU.J$(t).off(r.configs.vtLNS),r.elements[r.playCount]=new VTMediaElement(t.passBackObj,r.configs),r.playMedia()):a(0!=r.playCount||r.attributes.playContent?"continue":"showposter")}),__vtnU.J$(t).on("startReplay"+r.configs.vtLNS,function(){r.playCount=0,r.view.reset(!0),r.replay=!0,"sp"==r.attributes.plType&&r.pubConfig?r.loadPubConfig(r.pubConfig):r.loadPlayList(!0)}),t.play(r.view,e)):(r.playCount=0,r.view.reset(!0),r.replay=!0)},hitTracker:function(e,t){var r=this;if(r.attributes.trackers&&r.attributes.trackers[e])for(var i=0;i<r.attributes.trackers[e].length;i++)r.attributes.trackers[e][i].hit&&"click"!=e||(r.attributes.trackers[e][i].hit=!0,__vtnU.hitTracker(r.attributes.trackers[e][i].track,1))},hitError:function(e){var t=this;switch(t.view.show,e){case 5:__vtnU.vnBeaconCall("html5&status=notvisible");break;default:__vtnU.vnBeaconCall("html5&status=plerror")}t.view.showError(e)},setSize:function(e,t){var r=this;r.attributes.responsive=!1,r.attributes.mediaW=e,r.attributes.mediaH=t,r.view.sizeWrestler()},play:function(e){var t=this;t.playMedia(e)},stop:function(){var e=this;e.view.stop()},viewed:function(){var e=this;e.hitTracker("viewed")},resetPlayer:function(e){var t=this;return"undefined"==typeof e&&e.vKey&&t.view?"":(t.playCount=0,t.view.reset(!0),"MB"==t.globalPlayerConfig.getDeviceType()&&t.view.play({playBack:"proxy"},!1),t.replay=!0,e.vKey&&(t.attributes.eVKey=e.vKey),e.title&&(t.attributes.videoTitle=e.title.toString()),e.poster&&(t.attributes.posterURL=e.poster.toString(),t.view.loadPoster()),t.view.resetPoster(),t.loadPlayList(!0),void 0)},onReady:function(e){var t=this;t.view&&__vtnU.J$(t.view).on("ready",function(){e()})}};var VTMediaElement=function(e,t){var r=(new Date).getTime()+Math.random().toString().replace(".","");this.vtLNS=".vtn_me_ml"+r,this.vtLALNS=".vtn_me_la"+r,this.vtTLNS=".vtn_me_tis"+r,this.configs=t,this.skip={show:!1},this.parseData(e),this.preloaded=!1};VTMediaElement.prototype={mediaData:{},configs:{},unProcessed:!1,passBackObj:"",onPlayRequest:0,onPlayStart:0,playbackObj:{},view:null,companionFlag:!1,trackers:"",progress:"",hlsPreProcessed:!1,scheduler:"",liveAd:"",liveAdErrorCount:0,liveAdMode:!1,liveTimeKeeper:"",error:!1,hlsPreloaded:!1,timeInfo:{},maxAdErrorCnt:3,showAdIndicator:!0,parseM3U8:function(e){var t,r=this,i="undefined"!=typeof e&&e?e:function(e){console.log("no call back assigned")};r.mediaURL?t=new vtnParser.VTNM3U8Parser(r.mediaURL,function(e){!e.error&&e.children?(r.mediaURL=e.children[0].path,r.timeInfo.pdt=e.pdt||(new Date).getTime(),r.timeInfo.cdt=e.cdt||(new Date).getTime(),r.hlsPreloaded=!0,i()):r.error=!0}):r.error=!0},parseData:function(e){var t=this,r="";t.trackers={};for(var i in e)switch(i){case"media":for(var a in e[i])switch(a){case"skipoffset":t.skip=t.processSkipInfo(e[i][a]);break;default:t[a]=e[i][a]}break;case"trackers":for(var a in e[i])"progress"==a?t.progress=t.processProgressTracker(e[i][a]):t.trackers[a]=e[i][a];break;case"passBackAds":r=e[i];break;case"showNotice":t.showAdIndicator=e[i];break;case"vastURL":case"vastJSON":t.unProcessed=!0;default:t[i]=e[i]}"ad"!==t.contentType&&(t.showAdIndicator=!1),(t.overlay&&t.overlay.vastJSON||t.overlay&&t.overlay.vastURL)&&(t.overlay.unProcessed=!0),"ad"==t.contentType&&r&&r.Ad&&r.Ad.length&&(t.passBackObj={condition:t.condition,contentType:t.contentType,vastJSON:r}),t.vibeAdParam='{"title":"'+(t.videoTitle||"")+'","category":"'+(t.category||"")+'","keywords":"'+(t.keywords||"")+'"}',t.adbreak&&t.cuePoints&&t.cuePoints.mode&&"manual"==t.cuePoints.mode&&t.cuePoints.socket&&(t.maxAdErrorCnt=t.cuePoints.maxAdErrorCnt||t.maxAdErrorCnt,t.scheduler&&(t.scheduler.destory(),t.scheduler=""),t.scheduler=new VTNAdScheduler(t.cuePoints.dfltAdBreakLength),t.liveTimeKeeper&&(t.liveTimeKeeper.destory(),t.liveTimeKeeper=""),t.liveTimeKeeper=new VTNLiveTimeKeeper(t.scheduler||"")),t.resetcallBack()},loadVast:function(e){var t=this,r="undefined"!=typeof e?"string"==typeof e?unescape(e):e:"";t.unProcessed=!0,t.vastParser=new vtnParser.VTNVastParser(r,{wrapperCount:this.configs.wrapperCount,vastTimeout:this.configs.vastTimeout},0,"linear",function(e){var r,i,a=Array.isArray(e)?e:[e],n="";for(t.unProcessed=!1,i=a.length,r=0;i>r;r++)if(a[r]&&!a[r].error){n=a[r];break}t.vastParser&&(t.vastParser.destroy(),t.vastParser=""),n?(t.parseData(n),__vtnU.J$(t).trigger("ready")):(t.error=!0,t.forceComplete())},!1,!0)},processSkipInfo:function(e){var t,r=this,i={show:!1};return"undefined"!=typeof e&&e&&(t=String(e),r.processOffset(t,i)),i},processProgressTracker:function(e){for(var t,r=this,i=[],a=0;a<e.length;a++){t={show:!1};for(var n in e[a])switch(n){case"offset":r.processOffset(e[a][n],t);break;default:t[n]=e[a][n]}t.show&&i.push(t)}return i},processOffset:function(e,t){var r=/(\d+:)*\d+/.exec(e);"%"==e.substr(e.length-1,e.length)?(t.show=!0,t.type="percentage",t.value=parseInt(e.substr(0,e.length-1))):r&&r.length&&r[0]&&(t.show=!0,t.type="seconds",t.value=vtnPlayerUtils.timeCode2Secs(r[0]))},genExTrcs:function(){var e,t=this,r=["start","firstquartile","midpoint","thirdquartile","complete"],i=r.length;for(t.extTrackers={},e=0;i>e;e++)t.extTrackers[r[e]]={hit:!1}},resetcallBack:function(){var e=this;if("undefined"!=typeof e.trackers&&e.trackers)for(var t in e.trackers)for(var r=0;r<e.trackers[t].length;r++)e.trackers[t][r].hit=!1},hlsPreload:function(e){var t=this;t.parseM3U8(e)},preload:function(e){var t=this;t.view=e,t.view.preload(t.mediaURL,t.mimeType,t.posterURL),t.preloaded=!0},play:function(e,t){var r=this;r.error?r.forceComplete():(r.view=e,r.unProcessed?r.playProxyPlayer():r.mediaURL||"googleima"==r.adSystem&&r.vastTag?r.playMedia(t):r.contentType==vtnParser.RELATED_VIDEOS&&r.swfURL?r.playMedia(t):r.forceComplete())},forceComplete:function(){var e=this;setTimeout(function(){e.end(!0)},200)},playProxyPlayer:function(){var e=this;__vtnU.J$(e.view).off(e.vtLNS),e.view.play({playBack:"proxy"},!1),__vtnU.J$(e).off(e.vtTLNS),__vtnU.J$(e).on("ready"+e.vtTLNS,function(){__vtnU.J$(e).off("ready"+e.vtTLNS),e.view.stop(),e.playMedia(!1)}),e.vastJSON?e.loadVast(e.vastJSON):e.vastURL&&e.loadVast(e.vastURL)},playMedia:function(e){var t=this,r="undefined"!=typeof e&&e?!0:!1;__vtnU.J$(t).off(t.vtTLNS),t.onPlayRequest=(new Date).getTime(),t.genExTrcs(),"ad"==t.contentType&&t.hideCompanions();var i=function(e){var r="string"==typeof e?e:e.type;"timeupdate"==r?t.hitProgressTracker(e):(t.hitTracker(r),"error"==r&&t.hitErrorTracker(e),("complete"==r||"error"==r)&&t.end("error"==r),"skip"==r&&t.skipPlay(),"playing"==r&&(t.liveTimeKeeper&&t.liveTimeKeeper.setState(r),__vtnU.J$(t).trigger("playing")),"paused"==r&&(t.liveTimeKeeper&&t.liveTimeKeeper.setState(r),__vtnU.J$(t).trigger("paused")),"start"==r&&!t.companionFlag&&t.companionObj&&t.triggerCompanions(t.companionObj.companions))};__vtnU.J$(t.view).off(t.vtLNS),__vtnU.J$(t.view).on("onreplay"+t.vtLNS,i).on("autoplay"+t.vtLNS,i).on("playback"+t.vtLNS,i).on("complete"+t.vtLNS,i).on("start"+t.vtLNS,i).on("loadtime"+t.vtLNS,i).on("firstquartile"+t.vtLNS,i).on("midpoint"+t.vtLNS,i).on("thirdquartile"+t.vtLNS,i).on("loadedmetadata"+t.vtLNS,i).on("loadstart"+t.vtLNS,i).on("canplay"+t.vtLNS,i).on("canplaythrough"+t.vtLNS,i).on("waiting"+t.vtLNS,i).on("error"+t.vtLNS,i).on("abort"+t.vtLNS,i).on("stalled"+t.vtLNS,i).on("durationchange"+t.vtLNS,i).on("click"+t.vtLNS,i).on("playing"+t.vtLNS,i).on("paused"+t.vtLNS,i).on("ontouch"+t.vtLNS,i).on("skip"+t.vtLNS,i).on("timeupdate"+t.vtLNS,i),t.setUpForLive(),t.apiFramework&&"GoogleIMA"==t.apiFramework?t.view.play({playBack:"googleima",mediaURL:t.mediaURL,mimeType:t.mimeType,type:t.contentType,showAdIndicator:t.showAdIndicator,skip:t.skip,adparameters:t.adparameters},r):t.apiFramework&&"VPAID"==t.apiFramework&&t.mimeType&&("application/x-shockwave-flash"==t.mimeType||"application/javascript"==t.mimeType)?t.view.play({playBack:"application/javascript"==t.mimeType?"vpaid-js":"vpaid-swf",mediaURL:t.mediaURL,mimeType:t.mimeType,showAdIndicator:t.showAdIndicator,type:t.contentType,skip:t.skip,clickThrough:t.clickThrough?!0:!1,adparameters:t.adparameters},r):t.contentType==vtnParser.TITLE_CARD?t.view.play({playBack:vtnParser.TITLE_CARD,mediaURL:t.mediaURL,mimeType:t.mimeType,showAdIndicator:t.showAdIndicator,duration:t.duration},r):t.contentType==vtnParser.RELATED_VIDEOS?t.view.play({playBack:vtnParser.RELATED_VIDEOS,swfPath:t.swfURL,param:{media:t.swfURL,format:"url",source:t.apiURL,target:t.target,thumbHeight:t.thumbHeight,thumbWidth:t.thumbWidth,margin:t.margin,padding:t.padding,index:t.index,polaroids:t.polaroids,jsFunction:t.jsFunction}},r):t.view.play({playBack:"hls"==t.streamType?"hls":"mjs",mediaType:t.type,streamType:"hls"==t.streamType?"hls":"others",hlsPreloaded:"hls"==t.streamType?t.hlsPreloaded:!1,mediaURL:t.mediaURL,mimeType:t.mimeType,posterURL:t.posterURL,showAdIndicator:t.showAdIndicator,preloaded:t.preloaded,type:t.contentType,timeInfo:t.timeInfo,skip:t.skip},r),t.playOverlay()},setUpForLive:function(){var e=this;if(e.type&&"live"==e.type&&e.streamType&&"hls"==e.streamType&&e.adbreak&&e.cuePoints&&e.cuePoints.mode&&"manual"==e.cuePoints.mode&&e.cuePoints.socket){
e.scheduler&&(e.scheduler.listen(e.id,e.cuePoints.socket,function(t){"startAdBreak"==t&&e.playAdBreak(),"endAdBreak"==t&&e.stopAdBreak()}),e.scheduler.processSchedule(e.cuePoints.schedule||{}));var t=function(t){!e.liveAdMode&&e.liveTimeKeeper&&e.liveTimeKeeper.timeUpdate(!1,parseInt(e.view.liveStreamTime))};__vtnU.J$(e.view).on("livetimeupdate"+e.vtLNS,t)}},playAdBreak:function(e){var t=this,r="undefined"!=typeof e&&e?!0:!1;(!t.liveAdMode||r)&&(t.liveAdMode=!0,r||(t.liveAdErrorCount=0),!r&&t.liveTimeKeeper&&t.liveTimeKeeper.startTimer(),t.liveAd&&(__vtnU.J$(t.liveAd).off(t.vtLALNS),t.liveAd.destroy(),t.liveAd=null),t.liveAd=new VTMediaElement(t.adbreak,t.configs),__vtnU.J$(t.liveAd).on("playing"+t.vtLALNS,function(){t.liveTimeKeeper&&t.liveTimeKeeper.setState("playing")}),__vtnU.J$(t.liveAd).on("paused"+t.vtLALNS,function(){t.liveTimeKeeper&&t.liveTimeKeeper.setState("paused")}),__vtnU.J$(t.liveAd).on("playComplete"+t.vtLALNS,function(){t.liveAd.error?(t.liveAdErrorCount++,t.liveAdErrorCount>=t.maxAdErrorCnt&&(t.liveAdErrorCount=0,t.stopAdBreak())):t.liveAdErrorCount=0,t.liveAdMode&&t.playAdBreak(!0)}),t.view&&(__vtnU.J$(t.view).off(t.vtLNS),t.liveAd.play(t.view,!1)))},stopAdBreak:function(){var e=this;e.liveAdMode&&(e.liveAdMode=!1,e.liveAdErrorCount=0,e.liveTimeKeeper&&e.liveTimeKeeper.endTimer(),e.view&&e.playMedia(!1),e.liveAd&&(__vtnU.J$(e.liveAd).off(e.vtLALNS),e.liveAd.destroy(),e.liveAd=null))},playOverlay:function(){var e=this,t=function(t){var r;"string"==typeof t?e.hitTracker(r=t):e.hitTracker(r=t.type,t.count||""),"overlay_start"==r&&e.overlay&&e.overlay.companionObj&&e.triggerCompanions(e.overlay.companionObj.companions)};e.overlay&&(e.hideCompanions(),e.overlay.unProcessed?e.processOverlay():e.view.playOverlay(e.overlay,e.vibeAdParam),__vtnU.J$(e.view).on("overlay_start"+e.vtLNS,t).on("overlay_creativeview"+e.vtLNS,t).on("overlay_expand"+e.vtLNS,t).on("overlay_collapse"+e.vtLNS,t).on("overlay_complete"+e.vtLNS,t).on("overlay_click"+e.vtLNS,t))},processOverlay:function(){var e=this;e.vastParser&&(e.vastParser.destroy&&e.vastParser.destroy(),e.vastParser=""),e.vastParser=new vtnParser.VTNVastParser(e.overlay.vastJSON||e.overlay.vastURL,{wrapperCount:e.configs.wrapperCount,vastTimeout:e.configs.vastTimeout},0,"nonlinear",function(t){var r,i,a=Array.isArray(t)?t:[t],n="";for(e.unProcessed=!1,i=a.length,r=0;i>r;r++)if(a[r]&&!a[r].error){n=a[r];break}if(e.vastParser&&(e.vastParser.destroy(),e.vastParser=""),n){for(r in n)e.overlay[r]=n[r];e.view.playOverlay(e.overlay,e.vibeAdParam)}},!1,!0)},triggerCompanions:function(e){var t,r,i=this,a={};if(i.companionFlag=!0,e&&e.length>=1){i.hideCompanions();for(var n=0;n<e.length;n++){t=e[n],r={width:"0",height:"0",assettype:"",asset:"",clickthrough:"",viewtrack:{},clicktrack:{}};for(j in t)switch(j){case"mimeType":r.assettype=t.mimeType;break;case"mediaURL":r.asset=t.mediaURL;break;case"clickThrough":r.clickthrough=t.clickThrough;break;case"trackers":for(var o in t[j])switch(o){case"creativeview":for(var s=0;s<t[j][o].length;s++)r.viewtrack["track"+s]=t[j][o][s].track;break;case"click":for(var s=0;s<t[j][o].length;s++)r.clicktrack["track"+s]=t[j][o][s].track}break;case"width":case"height":default:r[j]=String(t[j])}a["div"+n]=r}"undefined"!=typeof vtnC&&vtnC&&vtnC.showcompanion&&vtnC.showcompanion(VTN_JSON.stringify(a))}},hideCompanions:function(){"undefined"!=typeof vtnC&&vtnC&&vtnC.hidecompanion&&vtnC.hidecompanion()},hitProgressTracker:function(e){var t,r,i=this;if(e&&e.currentTime&&i.progress&&i.progress.length){t=i.progress;for(var a=0;a<t.length;a++)r=t[a],r&&r.show&&!r.hit&&("seconds"==r.type?e.currentTime>=parseInt(r.value)&&(r.hit=!0,__vtnU.hitTracker(r.track,1)):"percentage"==r.type&&e.duration&&e.currentTime/e.duration*100>=parseInt(r.value)&&(r.hit=!0,__vtnU.hitTracker(r.track,1)))}},hitTracker:function(e,t){var r=this;if(0==e.indexOf("overlay_")&&r.hitOverlayTracker(e.replace("overlay_",""),t),"click"==e&&r.clickThrough&&window.open(r.clickThrough,"_blank"),r.trackers&&r.trackers[e])for(var i=0;i<r.trackers[e].length;i++)if(!r.trackers[e][i].hit||"click"==e)if(r.trackers[e][i].hit=!0,"loadtime"==e){r.onPlayStart=(new Date).getTime();var a=(r.onPlayStart-r.onPlayRequest)/1e3;__vtnU.hitTracker(r.trackers[e][i].track+"/"+a,1)}else __vtnU.hitTracker(r.trackers[e][i].track,1);r.extTrackers&&r.extTrackers[e]&&(r.extTrackers[e].hit&&"click"!=e||(r.extTrackers[e].hit=!0,vtnPlayerUtils.makeExtCB(e,r.contentType))),__vtnU.J$(r).trigger(e)},hitOverlayTracker:function(e,t){var r=this,i="undefined"!=typeof t&&t?t:"",a=function(e){var t=e;i&&(t=t.replace("[VIBE_AD_COUNTER]",i)),__vtnU.hitTracker(t,1)};if("click"==e&&r.overlay&&r.overlay.media&&r.overlay.media.clickThrough&&window.open(r.overlay.media.clickThrough,"_blank"),r.overlay&&r.overlay.trackers&&r.overlay.trackers[e])for(var n=0;n<r.overlay.trackers[e].length;n++)"start"!==e?a(r.overlay.trackers[e][n].track):r.overlay.trackers[e][n].hit||(r.overlay.trackers[e][n].hit=!0,a(r.overlay.trackers[e][n].track))},hitErrorTracker:function(e){var t,r=this,i="undefined"!=typeof e?e:{},a=i.code||"",n=i.msg||"",o=r.error_calls||"";return o&&(t=Array.isArray(r.error_calls)?r.error_calls:[r.error_calls],vtnPlayerUtils.errorTracker(t,a,n)),""},skipPlay:function(){var e=this;e.view.skip(),e.end()},end:function(e){var t=this,r="undefined"!=typeof e&&e?!0:!1,i=r?t.passBackObj?"playPassBack":"pauseComplete":"playComplete";t.contentType==vtnParser.RELATED_VIDEOS&&(i="startReplay"),t.destroy(),__vtnU.J$(t).trigger(i)},destroy:function(){var e=this;e.vastParser&&(e.vastParser.destroy&&e.vastParser.destroy(),e.vastParser=""),e.view&&(__vtnU.J$(e.view).off(e.vtLNS),e.view=null),e.liveTimeKeeper&&(e.liveTimeKeeper.destory(),e.liveTimeKeeper=""),e.scheduler&&(e.scheduler.destory(),e.scheduler=""),e.preloaded=!1,e.resetcallBack(),e.liveAd&&(__vtnU.J$(e.liveAd).off(e.vtLALNS),e.liveAd.destroy(),e.liveAd=null),__vtnU.J$(e).off(e.vtLNS)}};var VTHtml5PlayerView=function(e,t,r){var i=(new Date).getTime()+Math.random().toString().replace(".","");this.vtLNS=".vtn_vthtmlpv_pl"+i,this.targetDiv=e,this.configs=t,this.attributes=r,this.globalPlayerConfig=vtnGlblPCS.getInstance()};VTHtml5PlayerView.prototype={viewElements:"",factory:"",vtWNS:".vtn_wns",vtLNS:"",posterLoaded:!1,player:null,video:null,isfullscreen:!1,replay:!1,streamType:"progressive",touchTrigger:!1,mep:null,overlay:"",liveStreamTime:0,sizeWrestler:function(){var e=this,t=__vtnU.J$(e.targetDiv);__vtnU.J$(window).off(e.vtWNS),e.attributes.fillFit?t[0]&&(t.css({width:"100%",height:"100%","background-color":"black"}),__vtnU.J$(window).on("resize"+e.vtWNS,function(){__vtnU.J$(e).trigger("resize")}),__vtnU.J$(e).trigger("resize")):e.attributes.flexible?t[0]&&(t.css({width:e.attributes.mediaWPer+"%",height:e.attributes.mediaH+"px","background-color":"black",overflow:"hidden"}),__vtnU.J$(window).on("resize"+e.vtWNS,function(){__vtnU.J$(e).trigger("resize")}),__vtnU.J$(e).trigger("resize")):e.attributes.responsive?t[0]&&(t.css({width:e.attributes.mediaWPer+"%","background-color":"black",overflow:"hidden"}),e.calculateWidth(),__vtnU.J$(window).on("resize"+e.vtWNS,function(){e.calculateWidth(),__vtnU.J$(e).trigger("resize")}),__vtnU.J$(e).trigger("resize")):t[0]&&(t.css({width:e.attributes.mediaW+"px",height:e.attributes.mediaH+"px","background-color":"black"}),__vtnU.J$(window).on("resize"+e.vtWNS,function(){__vtnU.J$(e).trigger("resize")}),__vtnU.J$(e).trigger("resize"))},calculateWidth:function(){var e=this,t=__vtnU.J$(e.targetDiv);t.height(t.width()*e.attributes.ratio),e.attributes.mediaW=t.width(),e.attributes.mediaH=t.height()},setupPrimaryViewport:function(){var e=this,t=__vtnU.J$(e.targetDiv),r=__vtnU.D$(e.targetDiv.replace("#",""));r&&r.setAttribute("class","vtnPlayerTotalWrapper"),t.empty(),e.attributes.displayMode=e.configs.posterMode,t[0]&&(t.css("position","relative"),e.sizeWrestler(),t.append("<div class='vnOuterWrapper' style='width:100%; height:100%;'><div class='vnVideoWrapper' style='width:100%; height:100%; overflow:hidden;' ></div></div>"),e.viewElements="PC"==e.globalPlayerConfig.getDeviceType()||"undefined"!=typeof VTHtml5PlayerPCViewElements?new VTHtml5PlayerPCViewElements(e.targetDiv):new VTHtml5PlayerViewElements(e.targetDiv),e.viewElements.createVPIADContainer(),e.viewElements.createLoadIndc(this.configs.skin),e.viewElements.showLoadIndc(),e.viewElements.positionLoadIndc(),e.attributes.posterURL&&e.loadPoster(),__vtnU.J$(e).off("resize").on("resize",function(){e.viewElements.positionLoadIndc(),e.posterLoaded&&e.viewElements.positionPoster()}))},setStyle:function(e){var t=this,r="undefined"!=typeof e&&e?e:new vtnParser.VTNCBarConfObj;t.viewElements&&t.viewElements.setStyle(r)},viewPortSetup:function(){var e=this,t=__vtnU.J$(e.targetDiv);return t[0]?(e.viewElements.hideLoadIndc(),e.posterLoaded||e.loadPoster(),e.viewElements.createBigPlay(this.configs.skin),e.viewElements.createPlayHitArea(this.configs.skin),setTimeout(function(){e.viewElements.positionBigPlay()},100),e.viewElements.createOverlayAdHolder(),e.viewElements.createSkipAd(),__vtnU.J$(e).off("resize").on("resize",function(){e.setViewElementSize(),setTimeout(function(){e.setViewElementSize()},250),setTimeout(function(){e.setViewElementSize()},500),e.player&&e.player.setSize(e.attributes.mediaW,e.attributes.mediaH)}),!0):!1},loadPoster:function(){var e=this;e.viewElements.createPoster(e.attributes.posterURL,e.attributes.videoTitle),e.posterLoaded=!0},resetPoster:function(){var e=this;e.posterLoaded=!1,e.viewElements.createPoster(e.attributes.posterURL,e.attributes.videoTitle),e.posterLoaded=!0},setViewElementSize:function(){var e=this,t=0,r=0,i=__vtnU.J$(e.targetDiv+" .vnOuterWrapper");e.viewElements.positionLoadIndc(),e.viewElements.positionBigPlay(),e.posterLoaded&&e.viewElements.positionPoster(),e.player&&e.player.loadPercent&&(t=e.player.loadPercent),e.player&&e.player.currentPercent&&(r=e.player.currentPercent),e.viewElements.setControlsSize(t,r),e.overlay&&(e.isfullscreen?e.overlay.setSize(i.width(),i.height()):e.overlay.setSize(e.attributes.mediaW,e.attributes.mediaH))},makePlayer:function(){var e=this,t=__vtnU.J$(e.targetDiv+" .vnVideoWrapper"),r="100%",i="100%",a="block",n=function(){e.factory||(e.factory=new VTHtml5PlayerFactory(e.targetDiv,e.mep,e.video,e.attributes,e.configs)),e.attributes.autoPlay?e.viewElements.setAutoPlay(e.attributes.autoPlay):(e.viewElements.setPlayOnScroll(e.attributes.playOnScroll),e.viewElements.setTouchStart(e.attributes.touchStart),e.viewElements.setTouchStartTrigger(e.attributes.touchStartTrigger)),e.viewElements.onPlayClick(function(t){"undefined"!=typeof t&&__vtnU.J$(e).trigger("uic_"+t),"undefined"!=typeof t&&"touch"==t||"onScroll"==t||"click"==t?e.playTrigger(!0):e.playTrigger(!1)}),__vtnU.J$(e).trigger("ready")};e.video||(e.video=document.createElement("video"),t.append(e.video),e.video.id=e.configs.videoID=e.configs.videoID+(new Date).getTime(),e.video.className=e.configs.skin,r=e.attributes.mediaW,i=e.attributes.mediaH,e.attributes.responsive&&(r=i="100%"),a="none",!e.attributes.responsive||1==vtnPlayerUtils.deviceType&&3==vtnPlayerUtils.deviceType?(e.video.setAttribute("width",r+"px"),e.video.setAttribute("height",i+"px")):(e.video.setAttribute("width","100%"),e.video.setAttribute("height","100%")),e.video.setAttribute("preload","none"),e.video.setAttribute("controls","controls"),e.attributes.posterURL&&e.video.setAttribute("poster",e.attributes.posterURL),e.video.setAttribute("src",e.attributes.mediaURL),e.video.setAttribute("type",e.attributes.mimeType),e.video.setAttribute("x-webkit-airplay","allow"),e.video.setAttribute("webkit-playsinline","true")),e.mep||(e.mep=new MediaElementPlayer(e.video,{defaultVideoWidth:400,defaultVideoHeight:320,alwaysShowControls:!0,features:["playpause","current","progress","duration","fullscreen"],success:function(t,r){$vd=__vtnU.J$(e.targetDiv+" .mejs-mediaelement");var i=document.createElement("div");i.setAttribute("class","googleIMAC"),i.style.position="absolute",i.style.width=i.style.height="100%",i.style.top=i.style.left="0px",e.viewElements.createAdIndicator(),e.viewPortSetup(),e.viewElements.showPoster(),e.viewElements.buildControlBar(),setTimeout(function(){n()},100)}})),e.setPlayerControls(),t.css({display:a,height:i,width:r})},playTrigger:function(e){var t=this;t.viewElements.setVPF(!1),"undefined"!=typeof e&&e?(t.touchTrigger=!0,__vtnU.J$(t).trigger("playClick")):__vtnU.J$(t).trigger("autoPlay")},preload:function(e,t,r){var i=this;i.mep&&(i.mep.setSrc([{src:e,type:t}]),i.mep.load())},showError:function(e){var t=this;t.viewElements&&t.viewElements.showError&&t.viewElements.showError(e)},playOverlay:function(e,t){var r=this;r.overlay&&(r.overlay.endAd(),r.overlay.off(r.vtLNS),r.overlay=r.overlay.destory()),r.overlay=r.factory.makeOverlay(e,r.attributes.mediaW,r.attributes.mediaH,t);var i=function(e){var t="string"==typeof e?e:e.type;__vtnU.J$(r).trigger({type:"overlay_"+t,count:e.count||""})};__vtnU.J$(r.overlay).on("start"+r.vtLNS,i).on("creativeview"+r.vtLNS,i).on("expand"+r.vtLNS,i).on("collapse"+r.vtLNS,i).on("complete"+r.vtLNS,i).on("click"+r.vtLNS,i)},play:function(e,t){var r=this,i="",a=!1;r.liveStreamTime=0,r.touchTrigger="undefined"!=typeof t?t:r.touchTrigger,r.overlay&&(r.overlay.endAd(),r.overlay.off(r.vtLNS),r.overlay=r.overlay.destory()),r.attributes.responsive&&(r.attributes.displayMode=r.configs.playerMode,r.sizeWrestler(),4==vtnPlayerUtils.deviceType?r.mep.setPlayerSize(r.attributes.mediaW+"px",r.attributes.mediaH+"px"):r.mep.setPlayerSize()),r.viewElements.hideSkipAd(),r.viewElements.hidePlayHitArea(),r.viewElements.hideBigPlay(),r.viewElements.showLoadIndc(),1==vtnPlayerUtils.deviceType||3==vtnPlayerUtils.deviceType?r.viewElements.hideControlBar():r.viewElements.showControlBar(),r.viewElements.setControlsSize(0,0),setTimeout(function(){r.viewElements.setControlsSize(r.player.loadPercent,r.player.currentPercent)},200),this.streamType=e.streamType?e.streamType:"others",this.mediaType=e.mediaType?e.mediaType:"others","hls"==r.streamType&&"live"==r.mediaType?r.viewElements.showLiveSupport():r.viewElements.hideLiveSupport(),"ad"==e.type?((e.showAdIndicator&&0==vtnPlayerUtils.deviceType||2==vtnPlayerUtils.deviceType||vtnPlayerUtils.deviceType>=4)&&r.viewElements.showAdIndicator(),"hls"!=r.streamType&&r.viewElements.showScrubDisabler(),"native"==this.globalPlayerConfig.getFullScreenSupport()||"nosupport"==this.globalPlayerConfig.getFullScreenSupport()||"fallback"==this.globalPlayerConfig.getFullScreenSupport()?r.viewElements.disableFullScreenBtn():r.viewElements.enbaleFullScreenBtn()):(r.viewElements.hideAdIndicator(),e.playBack==vtnParser.TITLE_CARD?r.viewElements.showScrubDisabler():r.viewElements.hideScrubDisabler(),"nosupport"==this.globalPlayerConfig.getFullScreenSupport()?r.viewElements.disableFullScreenBtn():r.viewElements.enbaleFullScreenBtn()),e.skip&&(i=e.skip),r.player&&(__vtnU.J$(r.player).off(r.vtLNS),r.player.reset(),r.player=null),r.player=r.factory.makePlayer(e),r.isfullscreen&&setTimeout(function(){r.player.changeFSState("on")},500),__vtnU.J$(r.targetDiv+" .ven_playplause").off("click"+r.vtLNS),__vtnU.J$(r.targetDiv+" .ven_playplause").on("click"+r.vtLNS,function(e){return r.player&&r.player.viewPortClicked&&r.player.viewPortClicked(),__vtnU.EPD$(e)});var n=function(t){var i;if(i="string"==typeof t?t:t.type,"complete"==i||"error"==i){if(r.viewElements.hideControlBar(),3==vtnPlayerUtils.deviceType)try{r.video.webkitExitFullScreen()}catch(a){}r.overlay&&(__vtnU.J$(r.overlay).off(r.vtLNS),r.overlay=r.overlay.destory())}"firstplay"!=i?"click"==i||"clickThrough"==i?"ad"==e.type&&__vtnU.J$(r).trigger(t):__vtnU.J$(r).trigger(t):r.replay?__vtnU.J$(r).trigger("onreplay"):r.touchTrigger?__vtnU.J$(r).trigger("ontouch"):__vtnU.J$(r).trigger("playback")};__vtnU.J$(r.player).off(r.vtLNS),__vtnU.J$(r.player).on("start"+r.vtLNS,n).on("loadtime"+r.vtLNS,n).on("firstquartile"+r.vtLNS,n).on("midpoint"+r.vtLNS,n).on("thirdquartile"+r.vtLNS,n).on("complete"+r.vtLNS,n).on("loadedmetadata"+r.vtLNS,n).on("loadstart"+r.vtLNS,n).on("canplay"+r.vtLNS,n).on("canplaythrough"+r.vtLNS,n).on("waiting"+r.vtLNS,n).on("error"+r.vtLNS,n).on("abort"+r.vtLNS,n).on("stalled"+r.vtLNS,n).on("durationchange"+r.vtLNS,n).on("loadeddata"+r.vtLNS,n).on("firstplay"+r.vtLNS,n).on("skip"+r.vtLNS,n).on("playing"+r.vtLNS,n).on("paused"+r.vtLNS,n).on("click"+r.vtLNS,n);var o=function(t){var n="string"==typeof t?t:t.type;if("hppb"==n?r.viewElements.hideBigPlay():"sppb"==n&&r.viewElements.showBigPlay(),"hli"==n?r.viewElements.hideLoadIndc():"sli"==n&&(r.viewElements.showLoadIndc(),r.viewElements.updateDuration(r.player.duration)),"paused"==n?r.viewElements.setPlayPause("pause"):"playing"==n&&(r.viewElements.setPlayPause("play"),__vtnU.J$(r.targetDiv+" .vnVideoWrapper").show(),r.viewElements.hidePoster()),"fullScreenOn"==n?(r.isfullscreen=!0,r.viewElements.setFullScreen("on"),r.setViewElementSize(),setTimeout(function(){r.setViewElementSize()},200)):"fullScreenOff"==n&&(r.isfullscreen=!1,r.viewElements.setFullScreen("off"),r.setViewElementSize(),setTimeout(function(){r.setViewElementSize()},200)),"fullScreenReconsider"==n&&("ad"!=e.type||"native"!=r.globalPlayerConfig.getFullScreenSupport()&&"nosupport"!=r.globalPlayerConfig.getFullScreenSupport()&&"fallback"!=r.globalPlayerConfig.getFullScreenSupport()?r.player.changeFSState():r.viewElements.disableFullScreenBtn()),"timeupdate"==n){var o=__vtnU.J$.Event("timeupdate");o.currentTime=r.player.currentTime,o.duration=r.player.duration,__vtnU.J$(r).trigger(o),r.viewElements.updateCurrent(r.player.currentTime),r.viewElements.updateDuration(r.player.duration),!a&&i&&i.show&&("seconds"==i.type?r.player.currentTime>=parseInt(i.value)&&(r.viewElements.showSkipAd(),a=!0):"percentage"==i.type&&r.player.currentTime/r.player.duration*100>=parseInt(i.value)&&(r.viewElements.showSkipAd(),a=!0))}("complete"==n||"error"==n)&&(r.viewElements.updateCurrent(r.player.currentTime),r.viewElements.updateDuration(r.player.duration),r.viewElements.hideSkipAd()),"progressChange"==n&&r.viewElements.setProgressRail(r.player.loadPercent),"currentChange"==n&&r.viewElements.setCurrentRail(r.player.currentPercent),"hideControlBar"==n&&r.viewElements.hideControlBar(),"PC"!=r.globalPlayerConfig.getDeviceType()||"mute"!=n&&"unmute"!=n||(r.attributes.muted="mute"==n,r.player&&r.player.setMuted(r.attributes.muted,r.attributes.volume),r.viewElements.setMuted(r.attributes.muted))};__vtnU.J$(r.player).on("hppb"+r.vtLNS,o).on("sppb"+r.vtLNS,o).on("hli"+r.vtLNS,o).on("sli"+r.vtLNS,o).on("playing"+r.vtLNS,o).on("paused"+r.vtLNS,o).on("timeupdate"+r.vtLNS,o).on("complete"+r.vtLNS,o).on("error"+r.vtLNS,o).on("progressChange"+r.vtLNS,o).on("currentChange"+r.vtLNS,o).on("fullScreenOn"+r.vtLNS,o).on("fullScreenOff"+r.vtLNS,o).on("fullScreenReconsider"+r.vtLNS,o).on("hideControlBar"+r.vtLNS,o).on("mute"+r.vtLNS,o).on("unmute"+r.vtLNS,o);var s=function(e){r.player.getLiveTime&&(r.liveStreamTime=r.player.getLiveTime(),__vtnU.J$(r).trigger("livetimeupdate"))};__vtnU.J$(r.player).on("livetimeupdate"+r.vtLNS,s),r.player.play(r.attributes.mediaW,r.attributes.mediaH,r.mep.media),"PC"==r.globalPlayerConfig.getDeviceType()&&(r.player.setMuted(r.attributes.muted,r.attributes.volume),r.viewElements.setMuted(r.attributes.muted),r.player.setVolume(r.attributes.volume),r.viewElements.setVolume(r.attributes.volume))},skip:function(){var e=this;e.player&&e.player.skip&&e.player.skip()},stop:function(){var e=this;__vtnU.J$(e.targetDiv+" .ven_playplause").off(e.vtLNS),e.player&&e.player.stop()},getLiveTime:function(){var e=this;return e.liveStreamTime},setPlayerControls:function(){var e=this;e.viewElements&&(__vtnU.J$(e.viewElements).off(),__vtnU.J$(e.viewElements).on("ppClick",function(){e.player&&e.player.changePPState()}).on("fsClick",function(){e.player&&e.player.changeFSState()}).on("ppScrub",function(t,r){e.player&&e.player.setCurrentTime(r)}).on("skipClick",function(t){__vtnU.J$(e).trigger("skip"),e.viewElements.hideSkipAd()}).on("muteClick",function(t){"PC"==e.globalPlayerConfig.getDeviceType()&&(e.attributes.muted=!e.attributes.muted,e.player&&e.player.setMuted(e.attributes.muted,e.attributes.volume),e.viewElements.setMuted(e.attributes.muted))}).on("volumeChng",function(t,r){"PC"==e.globalPlayerConfig.getDeviceType()&&(e.attributes.volume=r,e.player&&e.player.setVolume(e.attributes.volume),e.viewElements.setVolume(e.attributes.volume),e.attributes.muted=!1,e.player&&e.player.setMuted(e.attributes.muted,e.attributes.volume),e.viewElements.setMuted(e.attributes.muted))}))},showPoster:function(){var e=this;__vtnU.J$(e.targetDiv+" .vnVideoWrapper").hide(),e.viewElements.showPoster(),e.viewElements.hideLoadIndc(),e.viewElements.showBigPlay(),e.viewElements.showPlayHitArea(),e.viewElements.hideControlBar(),e.viewElements.hideAdIndicator()},reset:function(e){var t=this;if("undefined"!=typeof e&&e&&(t.replay=!0),t.showPoster(),t.player&&(t.player.changeFSState("off"),t.player.reset(),__vtnU.J$(t.player).off(t.vtLNS)),t.isfullscreen=!1,1==vtnPlayerUtils.deviceType||3==vtnPlayerUtils.deviceType){var r=document.getElementById(t.configs.videoID);try{r.webkitExitFullScreen()}catch(i){}}t.overlay&&(t.overlay.endAd(),__vtnU.J$(t.overlay).off(t.vtLNS),t.overlay=t.overlay.destory())},loadIndicate:function(){var e=this;e.viewElements.showLoadIndc(),e.viewElements.hideBigPlay(),e.viewElements.hidePlayHitArea()}};var VTHtml5PlayerFactory=function(e,t,r,i,a){this.targetDiv=e,this.mjs=t,this.video=r,this.player={},this.attributes="undefined"!=typeof i?i:{},this.configs="undefined"!=typeof a?a:{}};VTHtml5PlayerFactory.prototype={proxyPlayer:"",tlcPlayer:"",mjsPlayer:"",googleIMAPlayer:"",jsVpaidPlayer:"",swfVpaidPlayer:"",hlsPlayer:"",makePlayer:function(e){var t=this,r={};if("undefined"==typeof e)return r;switch(e.playBack){case"proxy":t.proxyPlayer||(t.proxyPlayer=new vtHtml5Player.ProxyPlayer(t.targetDiv,t.mjs,t.video)),r=t.proxyPlayer;break;case"googleima":t.googleIMAPlayer||(t.googleIMAPlayer=new vtHtml5Player.GoogleIMAPlayer(t.targetDiv,t.mjs,t.video,t.configs.vastTimeout)),t.googleIMAPlayer.setSrc(e.mediaURL,e.mimeType,e.adparameters),r=t.googleIMAPlayer;break;case"vpaid-js":t.jsVpaidPlayer||(t.jsVpaidPlayer=new vtHtml5Player.JS_VPAIDPlayer(t.targetDiv,t.mjs,t.video,t.configs.vastTimeout)),t.jsVpaidPlayer.setSrc(e.mediaURL,e.mimeType,e.clickThrough,e.adparameters),r=t.jsVpaidPlayer;break;case"vpaid-swf":t.swfVpaidPlayer||(t.swfVpaidPlayer=new vtHtml5Player.SWF_VPAIDPlayer(t.targetDiv,t.mjs,t.video,t.configs.vastTimeout)),t.swfVpaidPlayer.setSrc(e.mediaURL,e.mimeType,e.clickThrough,e.adparameters),r=t.swfVpaidPlayer;break;case"hls":t.hlsPlayer||(t.hlsPlayer=new vtHtml5Player.HLSPlayer(t.targetDiv,t.mjs,t.video)),t.hlsPlayer.setSrc(e.mediaURL,e.mimeType,e.posterURL||"",e.hlsPreloaded,e.timeInfo,e.mediaType||"others"),r=t.hlsPlayer;break;case vtnParser.RELATED_VIDEOS:t.rvPlayer||(t.rvPlayer=new vtHtml5Player.RVPlayer(t.targetDiv,t.mjs,t.video)),t.rvPlayer.setSrc(e.swfPath,e.param),r=t.rvPlayer;break;case vtnParser.TITLE_CARD:t.tlcPlayer||(t.tlcPlayer=new vtHtml5Player.TitleCardPlayer(t.targetDiv,t.mjs,t.video)),t.tlcPlayer.setSrc(e.mediaURL,e.mimeType,e.duration||2),r=t.tlcPlayer;break;case"mjs":default:t.mjsPlayer||(t.mjsPlayer=new vtHtml5Player.MJSPlayer(t.targetDiv,t.mjs,t.video,t.attributes)),t.mjsPlayer.setSrc(e.mediaURL,e.mimeType,e.posterURL||""),r=t.mjsPlayer}return this.player=r,r},makeOverlay:function(e,t,r,i){var a=this,n="undefined"!=typeof e&&e?e:"";return n?n.media&&"VPAID"==n.media.apiframework?new vtHtml5Player.JS_VPAID_NLPlayer(n.media.mediaURL||"",a.targetDiv,a.mjs,a.video,t,r,i):new vtHtml5Player.OverlayPlayer(a.targetDiv,a.player,e,t,r):""}};var vtHtml5Player={};vtHtml5Player.RVPlayer=function(e,t,r){this.targetDiv=e,this.mjs=t,this.video=r,this.setup()},vtHtml5Player.RVPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",LISTENER_NS:"vtn-rvp-lns",HOLDER_ID:"vtn-rvp-holder"},vtTCPLNS:"",vtHolderId:"",cardTimer:0,tickTimer:0,duration:0,recalDuration:0,currentTime:0,loadPercent:0,currentPercent:0,retry:!0,$holder:"",flashHolder:"",flashId:"",params:{},playState:"paused",setup:function(){var e=this;e.vtTCPLNS="."+e.constants.LISTENER_NS+(new Date).getTime(),e.vtHolderId=e.constants.HOLDER_ID+(new Date).getTime(),e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0],__vtnU.J$(e.mjs).on("fullScreenChange"+e.vtTCPLNS,function(t){e.mjs.isFullScreen?(__vtnU.J$(e).trigger("fullScreenOn"),e.setSize()):(__vtnU.J$(e).trigger("fullScreenOff"),e.setSize())})},setSrc:function(e,t){var r=this;r.currentTime=0,r.swfPath=e,r.params=t},setCurrentTime:function(){return""},play:function(e,t,r){var i=this;i.$holder=__vtnU.J$('<div style="background-color:black;width:100%;height:100%;position:relative" id="'+i.vtHolderId+'"></div>').appendTo(i.container),"undefined"!=typeof r&&(i.video=r),i.mjs&&i.mjs.pause(),__vtnU.J$(i).trigger("paused"),i.flashHolder="vtn_rvp_swf_holder"+(new Date).getTime(),i.flashId="vtn_rvp_swf_"+(new Date).getTime(),i.flashFunction="vtn_rvp_swf_func"+(new Date).getTime(),i.params.notice=i.flashFunction,window[i.flashFunction]=function(e){"undefined"!=typeof e&&"loaded"===e?__vtnU.J$(i).trigger("hli"):i.end()},__vtnU.J$(i).trigger("sli"),i.container.style.display="block",i.loadSWF(),i.setSize()},loadSWF:function(){var e=this,t="10.1.0",r={bgcolor:"#ffffff",allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"},i={align:"middle"},a={},n="";flashHolder=e.flashHolder,flashId=e.flashId,swfPath=e.swfPath;try{n=VTN_JSON.stringify(e.params)}catch(o){console.log(o)}a.params=n,e.video.setAttribute("poster",""),e.video.src="",e.$holder.html('<div style="width:100%;height:100%" id="'+flashHolder+'"></div>'),i.id=i.name=flashId,+__vtnU.swfObject.embedSWF(swfPath,flashHolder,"100%","100%",t,vtnJSGC.playerproductURL,a,r,i)},stop:function(){return""},skip:function(){return""},setSize:function(){var e=this,t=function(){return e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.container.style.height=e.height+"px",e.container.style.width="100%",e.container.style.top=e.container.style.left="0",""};t(),setTimeout(function(){t()},300)},changePPState:function(e){var t=this;t.end()},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},setMuted:function(){return""},setVolume:function(){return""},resume:function(){return""},pause:function(){return""},end:function(){var e=this;__vtnU.J$(e.targetDiv+" .ven_playplause").hide(),__vtnU.J$(e).trigger("complete"),__vtnU.J$(e).trigger("hli")},reset:function(){var e=this;e.$holder="",e.loaded="",e.container.innerHTML="",e.container.style.display="none",e.container.style.width=e.container.style.height=0}},vtHtml5Player.ProxyPlayer=function(e,t,r){this.targetDiv=e,this.mjs=t,this.video=r,this.setup()},vtHtml5Player.ProxyPlayer.prototype={firstPlay:!0,duration:0,currentTime:0,loadPercent:0,currentPercent:0,setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");__vtnU.J$(e).trigger("sli"),__vtnU.J$(e).trigger("paused");var e=this;e.vtPPLNS=".vtn_pp_lns"+t},play:function(){var e=this;e.mjs&&(e.mjs.play(),e.mjs.pause(),__vtnU.J$(e).trigger("hideControlBar")),__vtnU.J$(e).trigger("sli"),__vtnU.J$(e).trigger("paused"),__vtnU.J$(e.mjs).on("fullScreenChange"+e.vtPPLNS,function(t){e.mjs.isFullScreen?__vtnU.J$(e).trigger("fullScreenOn"):__vtnU.J$(e).trigger("fullScreenOff")}),__vtnU.J$(e.mjs).on("fullScreenReconsider"+e.vtPPLNS,function(t){__vtnU.J$(e).trigger("fullScreenReconsider")})},stop:function(){var e=this;e.mjs&&e.mjs.pause(),__vtnU.J$(e).trigger("sli"),__vtnU.J$(e).trigger("paused"),__vtnU.J$(e.mjs).off(e.vtPPLNS)},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},viewPortClicked:function(){return null},setSize:function(){return null},setSrc:function(){this.play()},changePPState:function(){this.play()},setCurrentTime:function(){return null},setMuted:function(e){return null},setVolume:function(e){return null},reset:function(){var e=this;e.mjs&&e.mjs.pause(),e.firstPlay=!0,__vtnU.J$(e.mjs).off(e.vtPPLNS)}},vtHtml5Player.TitleCardPlayer=function(e,t,r){this.targetDiv=e,this.mjs=t,this.video=r,this.setup()},vtHtml5Player.TitleCardPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",LISTENER_NS:"vtn-titlecard-lns",HOLDER_ID:"vtn-titlecard-holder"},vtTCPLNS:"",vtHolderId:"",cardTimer:0,tickTimer:0,duration:0,recalDuration:0,currentTime:0,loadPercent:0,currentPercent:0,retry:!0,$poster:"",$holder:"",loaded:!1,playState:"paused",setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");e.vtTCPLNS="."+e.constants.LISTENER_NS+t,e.vtHolderId=e.constants.HOLDER_ID+t,e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0]},setSrc:function(e,t,r){var i=this;i.loaded=!1,i.currentTime=0,i.mediaURL=e,i.mimeType=t,i.duration=r,i.mjs.media.setAttribute("poster",i.mediaURL)},setCurrentTime:function(){return""},play:function(e,t,r){var i=this;i.loaded=!1,i.$holder=__vtnU.J$('<div style="background-color:black;width:100%;height:100%;position:relative" id="'+i.vtHolderId+'"></div>').appendTo(i.container),i.$poster=__vtnU.J$('<img src="'+i.mediaURL+'"/>').appendTo(i.$holder),i.$poster.on("load"+i.vtTCPLNS,function(){i.$poster,i.$poster.off("load"+i.vtTCPLNS),i.loaded=!0,i.setSize()}),"undefined"!=typeof r&&(i.video=r),i.mjs&&i.mjs.pause(),i.video.setAttribute("poster",i.mediaURL),i.video.src="",__vtnU.J$(i).trigger("sli"),i.startTimeKeeper(),i.container.style.display="block",i.setSize(),__vtnU.J$(i.targetDiv+" .ven_playplause").on("click"+i.vtTCPLNS,function(e){return i.changePPState(),__vtnU.EPD$(e)}),__vtnU.J$(i.mjs).on("fullScreenChange"+i.vtTCPLNS,function(e){i.mjs.isFullScreen?(__vtnU.J$(i).trigger("fullScreenOn"),i.setSize()):(__vtnU.J$(i).trigger("fullScreenOff"),i.setSize())})},stop:function(){var e=this;e.endTimeKeeper()},skip:function(){return""},setSize:function(){var e=this,t=function(){return e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.container.style.height=e.height+"px",e.container.style.width="100%",e.container.style.top=e.container.style.left="0",e.loaded&&e.$holder&&e.$poster&&e.adjImgPos(e.$poster,e.width,e.height),""};t(),setTimeout(function(){t()},300)},adjImgPos:function(e,t,r){var i,a,n,o,s=e[0],l=t,c=r;r_w=c/l,i_w=s.width,i_h=s.height,r_i=i_h/i_w,s.src=e.attr("src"),r_i>r_w?(i=c,a=c/r_i):(i=l*r_i,a=l),n=(l-a)/2,o=(c-i)/2,e.css({position:"absolute",width:a,height:i,"min-width":a,"min-height":i,"max-width":a,"max-height":i,left:n,top:o})},changePPState:function(e){var t=this;forcePause="undefined"!=typeof e?e:!1,t.playState=t.playState==t.constants.PLAYING||forcePause?t.pause():t.resume()},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},setMuted:function(){return""},setVolume:function(){return""},resume:function(){var e=this;return e.playState=e.constants.PAUSED,e.recalDuration=e.duration-e.currentTime,e.cardTimer=setInterval(function(){e.endTimeKeeper(),e.currentTime=e.duration,e.trackPlaybackTime()},1e3*e.recalDuration),e.tickTimer=setInterval(function(){e.currentTime+=.2,e.trackPlaybackTime()},200),e.trackPlaybackTime(),__vtnU.J$(e).trigger("playing"),e.constants.PLAYING},pause:function(){var e=this;
return clearInterval(e.cardTimer),clearInterval(e.tickTimer),__vtnU.J$(e).trigger("paused"),e.constants.PAUSED},startTimeKeeper:function(){var e=this;e.currentTime=0,__vtnU.J$(e).trigger("hli"),__vtnU.J$(e).trigger("start"),__vtnU.J$(e).trigger("loadtime"),__vtnU.J$(e).trigger("playing"),__vtnU.J$(e).trigger("hppb"),e.playState=e.resume()},endTimeKeeper:function(){var e=this;clearInterval(e.cardTimer),clearInterval(e.tickTimer),e.reset(),__vtnU.J$(e).trigger("complete")},trackPlaybackTime:function(){var e=this;e.trackCurrentPercent(),__vtnU.J$(e).trigger("timeupdate")},trackCurrentPercent:function(){var e=this;e.currentPercent=e.duration&&e.currentTime?e.currentTime/e.duration:0,__vtnU.J$(e).trigger("currentChange")},reset:function(){var e=this;e.$holder="",e.$poster&&e.$poster.off("load"+e.vtTCPLNS),e.$poster="",e.loaded="",e.container.innerHTML="",e.container.style.display="none",e.container.style.width=e.container.style.height=0,__vtnU.J$(e.targetDiv+" .ven_playplause").off("click"+e.vtTCPLNS),__vtnU.J$(e.mjs).off("click."+e.vtTCPLNS)}},vtHtml5Player.MJSPlayer=function(e,t,r,i){this.targetDiv=e,this.mjs=t,this.video=r,this.setup(),this.attributes="undefined"!=typeof i?i:{}},vtHtml5Player.MJSPlayer.prototype={firstPlay:!0,vtMJSLNS:"",duration:0,currentTime:0,loadPercent:0,currentPercent:0,retry:!0,viewPortClicked:function(){var e=this;e.mjs.media.paused||setTimeout(function(){__vtnU.J$(e).trigger("click")},300),e.changePPState()},setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");e.vtMJSLNS=".vtn_mjs_lns"+t},startListening:function(){function e(e){var r="undefined"!=typeof e&&e&&e.type?e:"";if(r)switch("error"!==String(r.type)&&__vtnU.J$(t).trigger(r.type),r.type){case"waiting":case"loadeddata":case"loadedmetadata":t.duration=t.mjs.media.duration;case"loadstart":t.duration=t.mjs.media.duration,__vtnU.J$(t).trigger("sli");break;case"canplay":break;case"error":t.retry?(t.retry=!1,setTimeout(function(){t.play()},500)):t.mediaError()}}var t=this;__vtnU.J$(t.mjs.media).on("progress"+t.vtMJSLNS,function(e){t.trackProgressPercent(),t.trackCurrentPercent()}),__vtnU.J$(t.mjs.media).on("timeupdate"+t.vtMJSLNS,function(e){t.duration=t.mjs.media.duration,t.currentTime=t.mjs.media.currentTime,t.trackProgressPercent(),t.trackCurrentPercent(),__vtnU.J$(t).trigger("timeupdate"),t.mjs.media.currentTime>0&&(__vtnU.J$(t).trigger("hli"),__vtnU.J$(t).trigger("start"),__vtnU.J$(t).trigger("loadtime")),t.mjs.media.currentTime>t.mjs.media.duration/4&&__vtnU.J$(t).trigger("firstquartile"),t.mjs.media.currentTime>t.mjs.media.duration/2&&__vtnU.J$(t).trigger("midpoint"),t.mjs.media.currentTime>3*t.mjs.media.duration/4&&__vtnU.J$(t).trigger("thirdquartile")}),__vtnU.J$(t.mjs.media).on("ended"+t.vtMJSLNS,function(e){t.stopListening(),t.currentTime=0,t.duration=0,t.loadPercent=0,t.currentPercent=0,__vtnU.J$(t.targetDiv+" .ven_playplause").hide(),__vtnU.J$(t).trigger("complete"),__vtnU.J$(t).trigger("hli")}),__vtnU.J$(t.mjs.media).on("playing"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("playing"),__vtnU.J$(t).trigger("hppb")}),__vtnU.J$(t.mjs.media).on("play"+t.vtMJSLNS,function(e){setTimeout(function(){__vtnU.J$(t.targetDiv+" .ven_playplause").show()},600),__vtnU.J$(t).trigger("playing"),__vtnU.J$(t).trigger("hppb")}),__vtnU.J$(t.mjs.media).on("seeking"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("sli")}),__vtnU.J$(t.mjs.media).on("seeked"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("hli")}),__vtnU.J$(t.mjs.media).on("pause"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("paused"),__vtnU.J$(t).trigger("sppb")}),__vtnU.J$(t.mjs.media).on("paused"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("paused"),__vtnU.J$(t).trigger("sppb")}),__vtnU.J$(t.mjs.media).on("loadedmetadata"+t.vtMJSLNS,e).on("loadstart"+t.vtMJSLNS,e).on("canplay"+t.vtMJSLNS,e).on("canplaythrough"+t.vtMJSLNS,e).on("waiting"+t.vtMJSLNS,e).on("error"+t.vtMJSLNS,e).on("abort"+t.vtMJSLNS,e).on("stalled"+t.vtMJSLNS,e).on("durationchange"+t.vtMJSLNS,e).on("loadeddata"+t.vtMJSLNS,e),__vtnU.J$(t.mjs).on("fullScreenChange"+t.vtMJSLNS,function(e){t.mjs.isFullScreen?__vtnU.J$(t).trigger("fullScreenOn"):__vtnU.J$(t).trigger("fullScreenOff")}),__vtnU.J$(t.mjs).on("fullScreenReconsider"+t.vtMJSLNS,function(e){__vtnU.J$(t).trigger("fullScreenReconsider")})},stopListening:function(){var e=this;__vtnU.J$(e.mjs.media).off(e.vtMJSLNS),__vtnU.J$(e.mjs).off(e.vtMJSLNS)},setSrc:function(e,t,r){var i=this;i.retry=!0,i.mjs&&("undefined"!=typeof r&&r&&i.mjs.media.setAttribute("poster",r),i.mjs.setSrc([{src:e,type:t}]),i.mjs.load())},setCurrentTime:function(e){var t=this;t.duration&&t.mjs.setCurrentTime(t.duration*e)},play:function(){var e=this;if(e.stopListening(),e.startListening(),e.vpaidCntnr&&(e.vpaidCntnr.style.display="none"),e.loadPercent=0,e.currentPercent=0,1==vtnPlayerUtils.deviceType)e.mjs.load(),e.mjs.play(),setTimeout(function(){e.mjs.play()},500);else if(3==vtnPlayerUtils.deviceType){var t=e.mjs.media;e.mjs.play(),t.pause(),setTimeout(function(){t.play()},500)}else if(vtnPlayerUtils.deviceType>=4){if(e.mjs){if(e.mjs.play(),4==vtnPlayerUtils.deviceType){var t=e.mjs.media;e.firstPlay&&t.pause(),setTimeout(w(t.play,t),500)}if(6==vtnPlayerUtils.deviceType&&setTimeout(function(){e.video.play()},500),8==vtnPlayerUtils.deviceType){var r=e.firstPlay;e.video.play(),setTimeout(function(){r&&e.video.pause(),e.video.play()},500)}}}else e.mjs.load(),setTimeout(function(){e.mjs.play()},500);e.firstPlay&&__vtnU.J$(e).trigger("firstplay"),e.firstPlay=!1},stop:function(){var e=this;e.stopListening(),e.mjs&&e.mjs.pause()},mediaError:function(){var e=this;errEvent=__vtnU.J$.Event("error"),errEvent.code="405",errEvent.msg="",e.retry=!1,__vtnU.J$(e).trigger("hli"),__vtnU.J$(e.targetDiv+" .ven_playplause").hide(),__vtnU.J$(e).trigger(errEvent)},setMuted:function(e,t){var r=this;r.mjs&&(r.mjs.setMuted(e),r.mjs.setVolume(t))},setVolume:function(e){var t=this;t.mjs&&t.mjs.setVolume(e)},trackProgressPercent:function(e){var t=this,r=t.mjs.media,i=0;r&&r.buffered&&r.buffered.length>0&&r.buffered.end&&r.duration?i=r.buffered.end(0)/r.duration:r&&void 0!=r.bytesTotal&&r.bytesTotal>0&&void 0!=r.bufferedBytes?i=r.bufferedBytes/r.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(i=e.loaded/e.total),null!==i&&(i=Math.min(1,Math.max(0,i)),t.loadPercent=i,__vtnU.J$(t).trigger("progressChange"))},trackCurrentPercent:function(){var e=this,t=e.mjs.media,r=0;void 0!=t.currentTime&&t.duration&&(r=t.currentTime/t.duration),null!==r&&(r=Math.min(1,Math.max(0,r)),e.currentPercent=r,__vtnU.J$(e).trigger("currentChange"))},changePPState:function(e){var t=this,r="undefined"!=typeof e?e:!1;t.mjs.media.paused&&!r?t.mjs.play():t.mjs.pause()},changeFSState:function(e){var t=this,r=t.attributes.flexible||!1;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height(),r):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height(),r)},setSize:function(){},reset:function(){var e=this,t=e.mjs.media;e.stopListening(),t.pause(),e.firstPlay=!0}},vtHtml5Player.HLSPlayer=function(e,t,r){var i=(new Date).getTime()+Math.random().toString().replace(".","");this.targetDiv=e,this.mjs=t,this.video=r,this.m3u8PrsrObj=null,this.playState=!1,this.sourced=!1,this.vtLNS=".vtn_hls_lp"+i,this.hlsTicker=0,this.hlsInterval=500,this.timeInfo={pauseTime:0},this.media={mediaURL:"",mimeType:"",poster:""},this.mediaType="others",this.setSrc=function(e,t,r,i,a,n){var s=this;s.playState=!1,s.sourced=!1,__vtnU.J$(s).off(s.vtLNS),__vtnU.J$(s).on("paused"+s.vtLNS,function(e){o(e)}),"undefined"!=typeof e&&(s.media.mediaURL=e),"undefined"!=typeof t&&(s.media.mimeType=t),"undefined"!=typeof r&&(s.media.poster=r),"undefined"!=typeof n&&(s.mediaType=n||"others"),s.hlsTicker&&(clearInterval(s.hlsTicker),s.hlsTicker=0),s.mjs&&(s.mjs.pause(),s.media.poster&&s.mjs.media.setAttribute("poster",s.media.poster)),i?s.assignStream(e,a.pdt,a.cdt):s.loadM3U8(s.media.mediaURL)},this.protoPlay=this.play,this.play=function(){var e=this;e.startListening(),e.playState=!0,e.sourced&&(__vtnU.J$(e).off(e.vtLNS),__vtnU.J$(e).on("playing"+e.vtLNS,function(e){l(e)}),__vtnU.J$(e).on("paused"+e.vtLNS,function(e){s(e)}),e.hlsTicker&&(clearInterval(e.hlsTicker),e.hlsTicker=0),this.protoPlay())},this.protoChangePPState=this.changePPState,this.changePPState=function(e){var t=this,r="undefined"!=typeof e?e:!1;t.sourced&&this.protoChangePPState(r)},this.protoStop=this.stop,this.stop=function(){var e=this;e.stopListening(),__vtnU.J$(e).off(e.vtLNS),e.timeInfo.pdt=0,e.timeInfo.cdt=0,e.protoStop(),e.hlsTicker&&(clearInterval(e.hlsTicker),e.hlsTicker=0)},this.protoReset=this.reset,this.reset=function(){var e=this;e.stopListening(),__vtnU.J$(e).off(e.vtLNS),e.timeInfo.pdt=0,e.timeInfo.cdt=0,e.protoReset(),e.hlsTicker&&(clearInterval(e.hlsTicker),e.hlsTicker=0)},this.loadM3U8=function(e){var t=this;t.m3u8PrsrObj&&(t.m3u8PrsrObj.destory(),t.m3u8PrsrObj=null),t.m3u8PrsrObj=new vtnParser.VTNM3U8Parser(e,function(e){__vtnU.J$(t).off("paused"+t.vtLNS),!e.error&&e.children?t.assignStream(e.children[0].path,e.pdt||(new Date).getTime(),e.cdt||(new Date).getTime()):(t.stop(),__vtnU.J$(t).trigger("complete"),__vtnU.J$(t).trigger("hli")),t.m3u8PrsrObj.destory(),t.m3u8PrsrObj=null})},this.assignStream=function(e,t,r){var i=e;a.timeInfo.pdt=t,a.timeInfo.cdt=r,a.sourced=!0,a.mjs&&(a.mjs.setSrc([{src:i,type:"video/mp4"}]),a.mjs.load(),a.timeInfo.pauseTime=0,a.playState?a.play():a.changePPState(!0))},this.getLiveTime=function(){return a.timeInfo.pdt};var a=this,n=function(){__vtnU.J$(a).trigger("sli"),__vtnU.J$(a).trigger("playing"),__vtnU.J$(a).trigger("hppb")},o=function(e){n(),setTimeout(function(){n()},250)},s=function(e){a.timeInfo.pauseTime=(new Date).getTime(),a.hlsTicker&&(clearInterval(a.hlsTicker),a.hlsTicker=0)},l=function(e){var t=(new Date).getTime(),r=a.timeInfo.pauseTime?t-a.timeInfo.pauseTime:0;a.hlsTicker&&(clearInterval(a.hlsTicker),a.hlsTicker=0),r>=25e3?(a.setSrc(),a.play()):(r=a.timeInfo.pauseTime?0:t-a.timeInfo.cdt,a.timeInfo.pdt+=r,a.timeInfo.cdt+=r,"live"==a.mediaType&&__vtnU.J$(a).trigger("hli"),d(),a.hlsTicker=setInterval(function(){c()},a.hlsInterval))},c=function(){a.timeInfo.pdt+=a.hlsInterval,a.timeInfo.cdt+=a.hlsInterval,d()},d=function(){__vtnU.J$(a).trigger("livetimeupdate")};a.setup()},vtHtml5Player.HLSPlayer.prototype=vtHtml5Player.MJSPlayer.prototype,vtHtml5Player.JS_VPAIDPlayer=function(e,t,r,i){this.targetDiv=e,this.mjs=t,this.video=r,this.timeout=i,this.setup()},vtHtml5Player.JS_VPAIDPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",CBAR_HEIGHT:24,LISTENER_NS:"vtHtml5Player_JS_VPAIDPlayer_Listener_NS"},impLogged:!1,adParam:"",vpaid:"",mediaURL:"",mimeType:"",linearCreative:"",width:0,height:0,duration:0,currentTime:0,loadPercent:0,currentPercent:0,playState:"paused",muted:!1,volume:1,isFullScreen:!1,loadTimer:0,timeKeeper:0,lns:"",setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0],e.lns=e.constants.LISTENER_NS+t},setSrc:function(e,t,r,i){var a=this;a.mediaURL=e,a.mimeType=t,a.adParam="undefined"!=typeof i&&i?i:""},setCurrentTime:function(e){return""},play:function(e,t,r){var i=this;i.impLogged=!1,"undefined"!=typeof r&&(this.video=r),this.mjs&&this.mjs.pause(),__vtnU.J$(i).trigger("sli"),i.startTimer(),i.setSize(),VTN_loadFilesASync([i.mediaURL],0,function(){i.initVPAID()}),__vtnU.J$(i.targetDiv+" .ven_playplause").on("click."+i.lns,function(e){return i.changePPState(),__vtnU.EPD$(e)}),__vtnU.J$(i.mjs).on("fullScreenChange."+i.lns,function(e){i.mjs.isFullScreen?(__vtnU.J$(i).trigger("fullScreenOn"),i.isFullScreen=!0,i.setSize()):(__vtnU.J$(i).trigger("fullScreenOff"),i.isFullScreen=!1,i.setSize())})},stop:function(){var e=this;if(e.vpaid)try{e.vpaid.pauseAd()}catch(t){console.log(t)}e.mjs&&e.mjs.pause()},skip:function(){var e=this;if(e.vpaid)try{e.vpaid.skipAd()}catch(t){console.log(t)}e.mjs&&e.mjs.pause()},startTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0,e.timeKeeper=setInterval(function(){e.trackPlaybackTime()},500),e.trackPlaybackTime()},endTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0},initVPAID:function(){var e,t=this,r=t.adParam||"",i="0.0";if(t.vpaidEvents={AdLoaded:function(e){if(t.vpaid)try{t.vpaid.startAd()}catch(r){console.log(r),t.adError()}},AdStarted:function(e){t.startTimeKeeper(),t.setVPAIDVolume()},AdStopped:function(e){t.endTimeKeeper(),t.impLogged?t.adClose():t.adError()},AdSkipped:function(e){__vtnU.J$(t).trigger("skip"),t.endTimeKeeper()},AdLinearChange:function(e){},AdSizeChange:function(e){},AdExpandedChange:function(e){},AdSkippableStateChange:function(e){},AdDurationChange:function(e){t.trackPlaybackTime()},AdRemainingTimeChange:function(e){t.trackPlaybackTime()},AdVolumeChange:function(e){},AdImpression:function(e){t.setVPAIDVolume(),t.trackImpression()},AdClickThru:function(e){__vtnU.J$(t).trigger("click")},AdInteraction:function(e){},AdVideoStart:function(e){t.trackImpression()},AdVideoFirstQuartile:function(e){t.trackImpression(),__vtnU.J$(t).trigger("firstquartile")},AdVideoMidpoint:function(e){t.trackImpression(),__vtnU.J$(t).trigger("midpoint")},AdVideoThirdQuartile:function(e){__vtnU.J$(t).trigger("thirdquartile")},AdVideoComplete:function(e){t.trackImpression()},AdUserAcceptInvitation:function(e){},AdUserMinimize:function(e){},AdUserClose:function(e){__vtnU.J$(t).trigger("userClosed")},AdPaused:function(e){t.endTimer(),__vtnU.J$(t).trigger("paused"),__vtnU.J$(t).trigger("sppb"),t.playState=t.constants.PAUSED,t.endTimeKeeper(),setTimeout(function(){__vtnU.J$(t.targetDiv+" .ven_playplause").show()},600)},AdPlaying:function(e){t.endTimer(),t.startTimeKeeper(),__vtnU.J$(t).trigger("playing"),__vtnU.J$(t).trigger("hppb"),t.playState=t.constants.PLAYING,setTimeout(function(){__vtnU.J$(t.targetDiv+" .ven_playplause").hide()},600)},AdError:function(e){t.endTimeKeeper(),t.adError()},AdLog:function(e){}},window.getVPAIDAd){try{t.vpaid=getVPAIDAd()}catch(a){console.log(a)}if(t.vpaid)try{i=t.vpaid&&t.vpaid.handshakeVersion?parseFloat(t.vpaid.handshakeVersion("2.0")):0}catch(a){console.log(a)}if(i>1&&2.1>i){__vtnU.J$(t.targetDiv+" .vnVideoWrapper").show();for(var e in t.vpaidEvents)try{t.vpaid.subscribe(t.vpaidEvents[e],e,t)}catch(a){console.log(a)}t.video.setAttribute("poster",""),t.video.src="",t.container.style.display="block",t.setVPAIDVolume();try{t.vpaid.initAd(t.width,t.height,t.isFullScreen?"fullscreen":"normal",250,r,{slot:t.container,videoSlot:t.video})}catch(a){console.log(a),t.adError()}t.container.style.height=t.height+"px"}else t.adError()}else t.adError()},trackImpression:function(){var e=this;e.impLogged||(e.playState=e.constants.PLAYING,e.impLogged=!0,e.endTimer(),__vtnU.J$(e).trigger("hli"),__vtnU.J$(e).trigger("start"),__vtnU.J$(e).trigger("loadtime"),__vtnU.J$(e).trigger("playing"),__vtnU.J$(e).trigger("hppb"))},setSize:function(){var e=this,t=e.isFullScreen?"fullscreen":"normal",r=function(){if(e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.container.style.height=e.height-e.constants.CBAR_HEIGHT+"px",e.container.style.width="100%",e.container.style.top=e.container.style.left="0",e.vpaid)try{e.vpaid.resizeAd(e.width,e.height,t)}catch(r){console.log(r)}return""};r(),setTimeout(function(){r()},300)},trackPlaybackTime:function(){var e,t,r=this,i=0;if(r.vpaid){try{e=r.vpaid.getAdDuration?parseFloat(r.vpaid.getAdDuration()):0,r.duration=e&&e>0?e:r.duration}catch(a){console.log(a)}try{i=r.vpaid.getAdRemainingTime?parseFloat(r.vpaid.getAdRemainingTime())||0:0}catch(a){console.log(a)}r.duration&&i&&(t=r.duration-i,t&&t>0&&(r.currentTime=t)),r.duration&&(r.currentTime>0&&r.trackImpression(),r.trackCurrentPercent(),__vtnU.J$(r).trigger("timeupdate"))}},trackCurrentPercent:function(){var e=this;e.currentPercent=e.duration&&e.currentTime?e.currentTime/e.duration:0,__vtnU.J$(e).trigger("currentChange")},changePPState:function(){var e=this;if(e.vpaid)try{e.playState==e.constants.PLAYING?e.vpaid.pauseAd():e.vpaid.resumeAd()}catch(t){console.log(t)}},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},setMuted:function(e,t){var r=this;r.muted="undefined"!=typeof e?!!e:r.muted,r.muted?r.volume=0:r.volume=t,r.setVPAIDVolume()},setVolume:function(e){var t=this;t.muted?t.volume=0:t.volume=e,t.setVPAIDVolume()},setVPAIDVolume:function(){var e=this;if(e.vpaid&&e.vpaid.setAdVolume)try{e.vpaid.setAdVolume(e.volume)}catch(t){console.log(t)}},adClose:function(){var e=this;e.reset(),__vtnU.J$(e).trigger("complete"),__vtnU.J$(e).trigger("hli")},adError:function(){var e=this;errEvent=__vtnU.J$.Event("error"),errEvent.code="901",errEvent.msg="",e.reset(),__vtnU.J$(e).trigger(errEvent),__vtnU.J$(e).trigger("hli")},startTimer:function(){var e=this;e.loadTimer=setInterval(function(){e.adError()},e.timeout+1e3)},endTimer:function(){var e=this;clearInterval(e.loadTimer)},reset:function(){var e=this;if(e.endTimer(),e.endTimeKeeper(),e.muted=!1,e.volume=1,e.duration=0,e.currentTime=0,e.vpaid){for(var t in e.vpaidEvents)try{e.vpaid.unsubscribe(e.vpaidEvents[t],t,e)}catch(r){console.log(r)}try{e.vpaid.pauseAd()}catch(r){console.log(r)}}e.vpaid=null,__vtnU.J$(e.targetDiv+" .ven_playplause").off("click."+e.lns),__vtnU.J$(e.mjs).off("."+e.lns),e.container.innerHTML="",e.container.style.display="none",e.container.style.width=e.container.style.height=0}},vtHtml5Player.JS_VPAID_NLPlayer=function(e,t,r,i,a,n,o){this.targetDiv=t,this.mjs=r,this.video=i,this.adParam=o,this.setup(),this.linear=!1,this.setSrc(e),this.play()},vtHtml5Player.JS_VPAID_NLPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",CBAR_HEIGHT:24,LISTENER_NS:"vtHtml5Player_JS_VPAID_NLPlayer_Listener_NS"},linear:!1,impLogged:!1,adParam:"",vpaid:"",mediaURL:"",mimeType:"",width:0,height:0,duration:0,currentTime:0,loadPercent:0,currentPercent:0,playState:"paused",muted:!1,volume:1,isFullScreen:!1,loadTimer:0,timeKeeper:0,playCount:0,setup:function(){var e=this;e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0],__vtnU.J$(e.mjs).on("fullScreenChange."+e.constants.LISTENER_NS,function(t){e.mjs.isFullScreen?(__vtnU.J$(e).trigger("fullScreenOn"),e.isFullScreen=!0,e.setSize()):(__vtnU.J$(e).trigger("fullScreenOff"),e.isFullScreen=!1,e.setSize())}),__vtnU.J$(e.targetDiv+" .ven_playplause").on("click."+e.constants.LISTENER_NS,function(t){return e.changePPState(),__vtnU.EPD$(t)})},setSrc:function(e,t,r){var i=this;i.mediaURL=e},setCurrentTime:function(e){return""},play:function(e,t,r){var i=this;i.playCount=0,i.impLogged=!1,"undefined"!=typeof r&&(this.video=r),i.setSize(),VTN_loadFilesASync([i.mediaURL],0,function(){i.initVPAID()})},stop:function(){var e=this;if(e.vpaid)try{e.vpaid.pauseAd()}catch(t){console.log(t)}e.mjs&&e.mjs.pause()},skip:function(){var e=this;if(e.vpaid)try{e.vpaid.skipAd()}catch(t){console.log(t)}e.mjs&&e.mjs.pause()},startTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0,e.timeKeeper=setInterval(function(){e.trackPlaybackTime()},500),e.trackPlaybackTime()},endTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0},initVPAID:function(){var e,t=this,r=t.adParam||"",i="0.0";if(t.vpaidEvents={AdLoaded:function(e){if(vtnPlayerUtils.log("AdLoaded"),t.vpaid)try{t.vpaid.startAd()}catch(r){console.log(r),t.adError("start ad error")}},AdStarted:function(e){vtnPlayerUtils.log("AdStarted"),t.startTimeKeeper(),t.setVPAIDVolume()},AdStopped:function(e){vtnPlayerUtils.log("AdStopped"),t.endTimeKeeper(),t.impLogged?t.adClose():t.adError("no impression error")},AdSkipped:function(e){vtnPlayerUtils.log("AdSkipped"),__vtnU.J$(t).trigger("skip"),t.endTimeKeeper()},AdLinearChange:function(e){vtnPlayerUtils.log("AdLinearChange"),t.switchLinearState()},AdSizeChange:function(e){vtnPlayerUtils.log("AdSizeChange")},AdExpandedChange:function(e){vtnPlayerUtils.log("AdExpandedChange")},AdSkippableStateChange:function(e){vtnPlayerUtils.log("AdSkippableStateChange")},AdDurationChange:function(e){vtnPlayerUtils.log("AdDurationChange"),t.trackPlaybackTime()},AdRemainingTimeChange:function(e){vtnPlayerUtils.log("AdRemainingTimeChange"),t.trackPlaybackTime()},AdVolumeChange:function(e){vtnPlayerUtils.log("AdVolumeChange")},AdImpression:function(e){vtnPlayerUtils.log("AdImpression"),t.setVPAIDVolume(),t.trackImpression()},AdClickThru:function(e){vtnPlayerUtils.log("AdClickThru"),__vtnU.J$(t).trigger("click")},AdInteraction:function(e){vtnPlayerUtils.log("AdInteraction")},AdVideoStart:function(e){vtnPlayerUtils.log("AdVideoStart"),t.trackImpression()},AdVideoFirstQuartile:function(e){vtnPlayerUtils.log("AdVideoFirstQuartile"),t.trackImpression(),__vtnU.J$(t).trigger("firstquartile")},AdVideoMidpoint:function(e){vtnPlayerUtils.log("AdVideoMidpoint"),t.trackImpression(),__vtnU.J$(t).trigger("midpoint")},AdVideoThirdQuartile:function(e){vtnPlayerUtils.log("AdVideoThirdQuartile"),__vtnU.J$(t).trigger("thirdquartile")},AdVideoComplete:function(e){vtnPlayerUtils.log("AdVideoComplete")},AdUserAcceptInvitation:function(e){vtnPlayerUtils.log("AdUserAcceptInvitation")},AdUserMinimize:function(e){vtnPlayerUtils.log("AdUserMinimize")},AdUserClose:function(e){vtnPlayerUtils.log("AdUserClose"),__vtnU.J$(t).trigger("userClosed")},AdPaused:function(e){vtnPlayerUtils.log("AdPaused"),t.endTimer(),__vtnU.J$(t).trigger("paused"),t.playState=t.constants.PAUSED,t.endTimeKeeper()},AdPlaying:function(e){vtnPlayerUtils.log("AdPlaying"),t.endTimer(),t.startTimeKeeper(),__vtnU.J$(t).trigger("playing"),t.playState=t.constants.PLAYING},AdError:function(e){vtnPlayerUtils.log("AdError"),vtnPlayerUtils.log(e),vtnPlayerUtils.log("VTN CALL :: VPAID AdError Called"),t.endTimeKeeper(),t.adError("ad error")},AdLog:function(e){vtnPlayerUtils.log("AdLog")}},t.vibeEvents={VibeAdStarted:function(e){var r=jQuery.Event("creativeview");vtnPlayerUtils.log("VibeAdStarted"),t.playCount+=1,r.count=t.playCount,__vtnU.J$(t).trigger(r),t.trackImpression()},VibeAdStopped:function(e){var r=jQuery.Event("complete");r.count=t.playCount,vtnPlayerUtils.log("VibeAdStopped"),__vtnU.J$(t).trigger(r)},VibeAdClick:function(e){var r=jQuery.Event("click");r.count=t.playCount,vtnPlayerUtils.log("VibeAdClick"),__vtnU.J$(t).trigger(r)},VibeAdRedirect:function(e){var r=jQuery.Event("click");r.count=t.playCount,vtnPlayerUtils.log("VibeAdRedirect"),__vtnU.J$(t).trigger(r)},VibeAdClose:function(e){vtnPlayerUtils.log("VibeAdClose")}},window.getVPAIDAd){try{t.vpaid=getVPAIDAd()}catch(a){console.log(a)}if(t.vpaid)try{i=t.vpaid&&t.vpaid.handshakeVersion?String(t.vpaid.handshakeVersion("2.0")):"0.0"}catch(a){console.log(a)}if("1.0"==i||"2.0"==i){__vtnU.J$(t.targetDiv+" .vnVideoWrapper").show();for(e in t.vpaidEvents)try{t.vpaid.subscribe(t.vpaidEvents[e],e,t)}catch(a){console.log(a)}for(e in t.vibeEvents)try{t.vpaid.subscribe(t.vibeEvents[e],e,t)}catch(a){console.log(a)}t.container.style.display="block",vtnPlayerUtils.log(r);try{t.vpaid.initAd(t.width,t.height,t.isFullScreen?"fullscreen":"normal",250,r,{slot:t.container,videoSlot:t.video})}catch(a){t.adError("vpaid init error")}t.container.style.height=t.height+"px",__vtnU.J$(t.mjs.media).on("play."+t.constants.LISTENER_NS,function(e){t.collapseAd()})}else t.adError("vpaid handshake error")}else t.adError("vpaid init error")},switchLinearState:function(){var e=this,t="";e.linear=!e.linear,t=jQuery.Event(e.linear?"expand":"collapse"),t.count=e.playCount,vtnPlayerUtils.log("linerState == "+e.linear),e.linear&&e.mjs?e.mjs.pause():e.mjs&&e.mjs.play(),__vtnU.J$(e).trigger(t)},collapseAd:function(){var e=this;if(e.linear&&(vtnPlayerUtils.log("collapseAd"),e.vpaid))try{e.vpaid.collapseAd()}catch(t){console.log(t)}},trackImpression:function(){var e=this;e.impLogged||(e.playState=e.constants.PLAYING,e.impLogged=!0,e.endTimer(),__vtnU.J$(e).trigger("start"),__vtnU.J$(e).trigger("playing"))},setSize:function(){var e=this,t=e.isFullScreen?"fullscreen":"normal",r=function(){if(e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.height&&(e.height=e.height-e.constants.CBAR_HEIGHT),e.container.style.height=e.height+"px",e.container.style.width="100%",e.container.style.top=e.container.style.left="0",e.vpaid)try{e.vpaid.resizeAd(e.width,e.height,t)}catch(r){console.log(r)}return""};r(),setTimeout(function(){r()},300)},trackPlaybackTime:function(){var e=this,t=0;if(e.vpaid){try{e.duration=e.vpaid.getAdDuration?parseFloat(e.vpaid.getAdDuration())||e.duration:e.duration}catch(r){console.log(r)}try{t=e.vpaid.getAdRemainingTime?parseFloat(e.vpaid.getAdRemainingTime())||0:0}catch(r){console.log(r)}e.currentTime=e.duration&&t?e.duration-t:e.currentTime,e.duration&&(e.currentTime>0&&e.trackImpression(),e.trackCurrentPercent(),__vtnU.J$(e).trigger("timeupdate"))}},trackCurrentPercent:function(){var e=this;e.currentPercent=e.duration&&e.currentTime?e.currentTime/e.duration:0,__vtnU.J$(e).trigger("currentChange")},changePPState:function(){var e=this;if(e.vpaid)try{e.playState==e.constants.PLAYING?e.vpaid.pauseAd():e.vpaid.resumeAd()}catch(t){console.log(t)}},changeFSState:function(){},setMuted:function(e,t){},setVolume:function(e){},setVPAIDVolume:function(){},endAd:function(){var e=this;e.adClose()},adClose:function(){var e=this;e.reset(),__vtnU.J$(e).trigger("complete")},destory:function(){var e=this;return e.adClose(),""},adError:function(e){var t=this;if(errEvent=__vtnU.J$.Event("error"),msg="undefined"!=typeof e&&e?String(e):"general error",errEvent.code="901",errEvent.msg="",t.reset(),t.vpaid)try{t.vpaid.logError(msg)}catch(r){console.log(r)}__vtnU.J$(t).trigger(errEvent)},startTimer:function(){var e=this;e.loadTimer=setInterval(function(){e.adError("timeout error")},e.timeout+1e3)},endTimer:function(){var e=this;clearInterval(e.loadTimer)},reset:function(){var e=this;if(e.endTimer(),e.endTimeKeeper(),e.muted=!1,e.volume=1,e.duration=0,e.currentTime=0,e.vpaid){e.collapseAd();for(var t in e.vpaidEvents)try{e.vpaid.unsubscribe(e.vpaidEvents[t],t,e)}catch(r){console.log(r)}try{e.vpaid.pauseAd()}catch(r){console.log(r)}}e.vpaid=null,__vtnU.J$(e.targetDiv+" .ven_playplause").off("."+e.constants.LISTENER_NS),__vtnU.J$(e.mjs).off("."+e.constants.LISTENER_NS),e.container.innerHTML="",e.container.style.display="none",e.container.style.width=e.container.style.height=0}},vtHtml5Player.SWF_VPAIDPlayer=function(e,t,r,i){this.targetDiv=e,this.mjs=t,this.video=r,this.timeout=i,this.setup()},vtHtml5Player.SWF_VPAIDPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",LISTENER_NS:"vtHtml5Player_SWF_VPAIDPlayer_Listener_NS"},flashHolder:"",flashId:"",flashFunction:"",impLogged:!1,stopCalled:!1,vpaidPlObj:"",mediaURL:"",hasClickThru:!1,mimeType:"",linearCreative:"",width:0,height:0,duration:0,currentTime:0,loadPercent:0,currentPercent:0,playState:"paused",muted:!1,volume:1,isFullScreen:!1,loadTimer:0,cmpltTimer:0,lns:"",setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0],e.lns=e.constants.LISTENER_NS+t},setSrc:function(e,t,r,i){var a=this;"undefined"!=typeof r&&(a.hasClickThru=r),a.mediaURL=e,a.mimeType=t,a.adParam="undefined"!=typeof i&&i&&i.toString()?encodeURIComponent(i):""},setCurrentTime:function(e){return""},play:function(e,t,r){var i=this,a=(new Date).getTime()+Math.random().toString().replace(".","");i.impLogged=!1,i.flashHolder="vtn_vast_swf_holder"+a,i.flashId="vtn_vast_swf_"+a,i.flashFunction="vtn_vast_swf_func"+a,"undefined"!=typeof r&&(i.video=r),i.mjs&&i.mjs.pause(),__vtnU.J$(i).trigger("sli"),i.startTimer(),i.setSize(),i.loadSWF(),__vtnU.J$(i.targetDiv+" .ven_playplause").on("click."+i.lns,function(e){return i.changePPState(),__vtnU.EPD$(e)}),__vtnU.J$(i.mjs).on("fullScreenChange."+i.lns,function(e){i.mjs.isFullScreen?(__vtnU.J$(i).trigger("fullScreenOn"),i.isFullScreen=!0,i.setSize()):(__vtnU.J$(i).trigger("fullScreenOff"),i.isFullScreen=!1,i.setSize())})},stop:function(){var e=this;if(e.vpaidPlObj)try{e.vpaidPlObj.pauseAd()}catch(t){console.log(t)}e.mjs&&e.mjs.pause()},loadSWF:function(){var e=this,t="10.1.0",r={bgcolor:"#ffffff",allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"},i={align:"middle"},a={jsFunc:e.flashFunction},n=e.flashHolder,o=e.flashId,s=vtnJSGC.swfVpaidWrapper;window[e.flashFunction]=e.getSWFListner(),e.video.setAttribute("poster",""),e.video.src="",e.container.innerHTML='<div style="width:100%;height:100%" id="'+n+'"></div>',e.container.style.display="block",e.container.style.height=e.height+"px",i.id=i.name=o,__vtnU.swfObject.embedSWF(s,n,"100%","100%",t,vtnJSGC.playerproductURL,a,r,i)},getSWFListner:function(){var e=this;return function(t){var r,i,a="",n="",o="",s=/\&/;if("undefined"!=typeof t&&"function"!=typeof t)switch(a=t,i=a.match(s),i&&(r=a.split("&"),a=r[0],r.length>1&&(n=r[1],r.length>2&&(o=r.slice(2).join("&")))),String(a).toLowerCase()){case"loaded":var l=__vtnU.D$(e.flashId),c=e.isFullScreen?"fullscreen":"normal",d=e.adParam||"0",p=e.timeout/1e3,v=encodeURIComponent(e.mediaURL),u="";if(l){e.vpaidPlObj=l,u='{"width":'+e.width+',"height":'+e.height+',"mode":"'+c+'","adparameters":"'+d+'","bandwidth":600,"url":"'+v+'","timeout":'+p+',"volume":'+e.volume+"}";try{e.vpaidPlObj.initAd(u)}catch(m){e.adError()}}else e.adError();break;case"start":e.endTimer(),e.trackPlaybackTime();break;case"impression":case"videostart":e.endTimer(),e.playState=e.constants.PLAYING,e.trackImpression(),e.trackPlaybackTime();break;case"error":e.endTimer(),e.adError(n.replace("errorCode=",""),o);break;case"complete":if(e.startCmpltTimer(),e.vpaidPlObj&&!e.stopCalled)try{e.vpaidPlObj.stopAd(),e.stopCalled=!0}catch(m){console.log(m)}break;case"close":case"stopped":e.endCmpltTimer(),e.impLogged?e.adClose():e.adError();break;case"pause":e.endTimer(),__vtnU.J$(e).trigger("paused"),__vtnU.J$(e).trigger("sppb"),e.playState=e.constants.PAUSED,setTimeout(function(){__vtnU.J$(e.targetDiv+" .ven_playplause").show()},600);break;case"resume":e.endTimer(),__vtnU.J$(e).trigger("playing"),__vtnU.J$(e).trigger("hppb"),e.playState=e.constants.PLAYING,e.trackPlaybackTime(),setTimeout(function(){__vtnU.J$(e.targetDiv+" .ven_playplause").hide()},600);break;case"duration":n&&(e.duration=parseFloat(n)),e.trackPlaybackTime();break;case"currenttime":n&&(e.currentTime=parseFloat(n)),e.currentTime&&e.currentTime>0&&e.trackImpression(),e.trackPlaybackTime();break;case"clickthru":__vtnU.J$(e).trigger("click"),e.vpaidPlObj.pauseAd();break;case"clickthrough":e.hasClickThru&&(__vtnU.J$(e).trigger("click"),e.vpaidPlObj.pauseAd());break;case"firstquartile":case"midpoint":case"thirdquartile":e.trackImpression();case"skip":case"creativeview":case"mute":case"unmute":default:try{__vtnU.J$(e).trigger(String(a).toLowerCase())}catch(m){console.log(m)}}}},trackImpression:function(){var e=this;e.impLogged||(e.impLogged=!0,e.endTimer(),__vtnU.J$(e).trigger("hli"),__vtnU.J$(e).trigger("start"),__vtnU.J$(e).trigger("loadtime"),__vtnU.J$(e).trigger("playing"),__vtnU.J$(e).trigger("hppb"))},setSize:function(){var e=this,t=e.isFullScreen?"fullscreen":"normal",r=function(){if(e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.container.style.height=e.height+"px",e.container.style.width="100%",e.vpaidPlObj)try{e.vpaidPlObj.resizeAd(e.width,e.height,t)}catch(r){console.log(r)}return""};r(),setTimeout(function(){r()},300)},trackPlaybackTime:function(){var e=this;e.trackCurrentPercent(),__vtnU.J$(e).trigger("timeupdate")},trackCurrentPercent:function(){var e=this;e.currentPercent=e.duration&&e.currentTime?e.currentTime/e.duration:0,
__vtnU.J$(e).trigger("currentChange")},changePPState:function(){var e=this;if(e.vpaidPlObj)try{e.playState==e.constants.PLAYING?e.vpaidPlObj.pauseAd():e.vpaidPlObj.playAd()}catch(t){console.log(t)}},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},setMuted:function(e,t){var r=this;r.muted="undefined"!=typeof e?!!e:r.muted,r.muted?r.volume=0:r.volume=t,r.setSWFVolume()},setVolume:function(e){var t=this;t.muted?t.volume=0:t.volume=e,t.setSWFVolume()},setSWFVolume:function(){var e=this;if(e.vpaidPlObj)try{e.vpaidPlObj.adVolume(e.volume)}catch(t){console.log(t)}},adClose:function(){var e=this;if(e.endCmpltTimer(),e.vpaidPlObj&&!e.stopCalled)try{e.vpaidPlObj.stopAd(),e.stopCalled=!0}catch(t){console.log(t)}setTimeout(function(){e.reset(),__vtnU.J$(e).trigger("complete"),__vtnU.J$(e).trigger("hli")},2e3)},adError:function(e,t){var r=this,i="undefined"!=typeof e&&e?e:"901",a="undefined"!=typeof t&&t?t:"",n=__vtnU.J$.Event("error");r.reset(),r.endCmpltTimer(),n.code=i,n.msg=a,setTimeout(function(){__vtnU.J$(r).trigger(n),__vtnU.J$(r).trigger("hli")},300)},startTimer:function(){var e=this;clearInterval(e.loadTimer),e.loadTimer=setInterval(function(){e.adError()},e.timeout+1e3)},endTimer:function(){var e=this;clearInterval(e.loadTimer),e.loadTimer=0},startCmpltTimer:function(){var e=this;clearInterval(e.cmpltTimer),e.cmpltTimer=setInterval(function(){e.endCmpltTimer(),e.impLogged?e.adClose():e.adError()},500)},endCmpltTimer:function(){var e=this;clearInterval(e.cmpltTimer),e.cmpltTimer=0},reset:function(){var e=this;if(e.endTimer(),e.endCmpltTimer(),e.muted=!1,e.volume=1,e.duration=0,e.currentTime=0,e.hasClickThru=!1,e.impLogged=!1,e.stopCalled=!1,e.vpaidPlObj)try{e.vpaidPlObj.destroy()}catch(t){console.log(t)}e.vpaidPlObj=null,__vtnU.J$(e.targetDiv+" .ven_playplause").off("."+e.lns),__vtnU.J$(e.mjs).off("."+e.lns),e.container.innerHTML="",e.container.style.display="none",e.container.style.width=e.container.style.height=0}},vtHtml5Player.GoogleIMAPlayer=function(e,t,r,i){this.targetDiv=e,this.mjs=t,this.video=r,this.timeout=i,this.setup()},vtHtml5Player.GoogleIMAPlayer.prototype={constants:{PLAYING:"playing",PAUSED:"paused",LISTENER_NS:"vtHtml5Player_GIMA_Listener_NS"},adParam:"",lns:"",durationDispatched:!1,mediaURL:"",mimeType:"",container:"",firstPlay:!0,duration:0,currentTime:0,loadPercent:0,currentPercent:0,adDisplayContainer:"",playState:"paused",muted:!1,volume:1,isFullScreen:!1,loadTimer:0,timeKeeper:0,imaEvents:"",adsLoader:"",adslEvents:"",adsManager:"",adsmEvents:"",startTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0,e.timeKeeper=setInterval(function(){e.trackPlaybackTime()},500),e.trackPlaybackTime()},endTimeKeeper:function(){var e=this;clearInterval(e.timeKeeper),e.timeKeeper=0},setup:function(){var e=this,t=(new Date).getTime()+Math.random().toString().replace(".","");e.container=__vtnU.J$(e.targetDiv+" .vpaidCntnr")[0],e.lns=e.constants.LISTENER_NS+t},setSrc:function(e,t,r){var i=this;i.mediaURL=e,i.mimeType=t,i.adParam="undefined"!=typeof r&&r&&r.toString()?encodeURIComponent(r):""},setCurrentTime:function(e){return""},play:function(e,t,r){var i=this;"undefined"!=typeof r&&(this.video=r),this.mjs&&this.mjs.pause(),i.adsManager="",i.durationDispatched=!1,i.impLogged=!1,i.adDisplayContainer="",__vtnU.J$(i).trigger("sli"),i.startTimer(),i.setSize(),i.loadIMA(),__vtnU.J$(i.targetDiv+" .ven_playplause").on("click."+i.lns,function(e){return i.changePPState(),__vtnU.EPD$(e)}),__vtnU.J$(i.mjs).on("fullScreenChange."+i.lns,function(e){i.mjs.isFullScreen?(__vtnU.J$(i).trigger("fullScreenOn"),i.isFullScreen=!0,i.setSize()):(__vtnU.J$(i).trigger("fullScreenOff"),i.isFullScreen=!1,i.setSize())})},stop:function(){var e=this;e.mjs&&e.mjs.pause()},skip:function(){var e=this;if(e.adsManager)try{e.adsManager.skip()}catch(t){console.log(t);try{e.adsManager.stop()}catch(r){console.log(r)}}},loadIMA:function(){var e=this,t=[vtnPlayerUtils.decode(e.adParam)],r=function(){__vtnU.J$(e).trigger("sli"),e.container.style.display="block",e.adDisplayContainer=new google.ima.AdDisplayContainer(e.container),e.adDisplayContainer.initialize(),e.googleIMArequest()};__vtnU.J$(e).trigger("sli"),"undefined"!=typeof google&&google&&google.ima?r():t?VTN_loadFilesASync(t,0,function(){r()}):e.adError()},googleIMArequest:function(){var e,t=this;t.adslEvents={},t.adslEvents[google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED]=function(e){t.googleIMAManagerLoaded(e)},t.adslEvents[google.ima.AdErrorEvent.Type.AD_ERROR]=function(e){t.adError()},t.adsLoader=new google.ima.AdsLoader(t.adDisplayContainer);for(e in t.adslEvents)t.adsLoader.addEventListener(e,t.adslEvents[e],!1);var r=new google.ima.AdsRequest;r.adTagUrl=t.mediaURL,r.linearAdSlotWidth=t.width,r.linearAdSlotHeight=t.height,t.adsLoader.requestAds(r)},googleIMAManagerLoaded:function(e){var t,r,i,a,n=this;if(n.adsLoader&&n.adslEvents)for(t in n.adslEvents)try{n.adsLoader.removeEventListener(t,n.adslEvents[t],!1)}catch(o){console.log(o)}n.imaEvents=[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.STARTED,google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.VOLUME_CHANGED],n.adsmEvents={};try{n.adsManager=e.getAdsManager(n.video)}catch(s){console.log(s),n.adError()}if(n.adsManager){for(r=n.imaEvents.length,t=0;r>t;t++)i=n.imaEvents[t],n.adsmEvents[i]=a=function(e){n.googleIMAAdEventHandler(e)},n.adsManager.addEventListener(i,a,!1);try{n.adsManager.init(__vtnU.J$(n.targetDiv+" .vnVideoWrapper").width(),__vtnU.J$(n.targetDiv+" .vnVideoWrapper").height(),google.ima.ViewMode.NORMAL),n.adsManager.start()}catch(s){console.log(s),n.adError()}}else console.log("no adsManager"),n.adError()},googleIMAAdEventHandler:function(e){var t=this;switch(e.type){case google.ima.AdEvent.Type.LOADED:t.setIMAVolume(),t.endTimer();break;case google.ima.AdEvent.Type.CLICK:__vtnU.J$(t).trigger("click"),t.changePPState("true");break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:case google.ima.AdEvent.Type.STARTED:t.setIMAVolume(),t.startTimeKeeper(),t.endTimer();break;case google.ima.AdEvent.Type.IMPRESSION:t.setIMAVolume(),t.trackImpression();break;case google.ima.AdErrorEvent.Type.AD_ERROR:t.adError();break;case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:t.impLogged?t.adClose():t.adError();break;case google.ima.AdEvent.Type.FIRST_QUARTILE:t.trackImpression(),__vtnU.J$(t).trigger("firstquartile");break;case google.ima.AdEvent.Type.MIDPOINT:t.trackImpression(),__vtnU.J$(t).trigger("midpoint");break;case google.ima.AdEvent.Type.THIRD_QUARTILE:t.trackImpression(),__vtnU.J$(t).trigger("thirdquartile");break;case google.ima.AdEvent.Type.SKIPPED:__vtnU.J$(t).trigger("skip"),t.endTimeKeeper();break;case google.ima.AdEvent.Type.PAUSED:t.endTimer(),__vtnU.J$(t).trigger("paused"),__vtnU.J$(t).trigger("sppb"),t.playState=t.constants.PAUSED,t.endTimeKeeper(),setTimeout(function(){__vtnU.J$(t.targetDiv+" .ven_playplause").show()},600);break;case google.ima.AdEvent.Type.RESUMED:t.endTimer(),t.startTimeKeeper(),__vtnU.J$(t).trigger("playing"),__vtnU.J$(t).trigger("hppb"),t.playState=t.constants.PLAYING,setTimeout(function(){__vtnU.J$(t.targetDiv+" .ven_playplause").hide()},600)}},trackImpression:function(){var e=this;e.impLogged||(e.playState=e.constants.PLAYING,e.impLogged=!0,e.endTimer(),__vtnU.J$(e).trigger("hli"),__vtnU.J$(e).trigger("start"),__vtnU.J$(e).trigger("loadtime"),__vtnU.J$(e).trigger("playing"),__vtnU.J$(e).trigger("hppb"))},trackPlaybackTime:function(){var e,t=this;t.adsManager&&t.adsManager.getRemainingTime&&parseFloat(t.adsManager.getRemainingTime())&&parseFloat(t.adsManager.getRemainingTime())>=0&&(t.durationDispatched?t.duration&&(e=t.duration-t.adsManager.getRemainingTime(),!isNaN(e)&&e>=0&&(t.currentTime=e,t.currentTime>0&&t.trackImpression(),t.trackCurrentPercent(),__vtnU.J$(t).trigger("timeupdate"))):(t.durationDispatched=!0,t.duration=t.adsManager.getRemainingTime(),__vtnU.J$(t).trigger("timeupdate")))},trackCurrentPercent:function(e){var t=this;t.currentPercent=t.duration&&t.currentTime?t.currentTime/t.duration:0,__vtnU.J$(t).trigger("currentChange")},changePPState:function(e){var t=this;if(forcePause="undefined"!=typeof e?e:!1,t.adsManager)try{t.playState==t.constants.PLAYING||forcePause?t.adsManager.pause():t.adsManager.resume()}catch(r){console.log(r)}},changeFSState:function(e){var t=this;"undefined"!=typeof e?"off"==e?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height()):t.mjs.isFullScreen?t.mjs.exitFullScreen():t.mjs.enterFullScreen(__vtnU.J$(t.targetDiv).width(),__vtnU.J$(t.targetDiv).height())},setMuted:function(e,t){var r=this;r.muted="undefined"!=typeof e?!!e:r.muted,r.muted?r.volume=0:r.volume=t,r.setIMAVolume()},setVolume:function(e){var t=this;t.muted?t.volume=0:t.volume=e,t.setIMAVolume()},setIMAVolume:function(){var e=this;if(e.adsManager&&e.adsManager.setVolume)try{e.adsManager.setVolume(e.volume)}catch(t){console.log(t)}},setSize:function(){var e=this,t=e.isFullScreen?"fullscreen":"normal",r=function(){if(e.width=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()||0,e.height=__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()||0,e.container.style.height=e.height+"px",e.container.style.width="100%",e.adsManager)try{e.adsManager.resize(e.width,e.height,"fullscreen"==t?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}catch(r){console.log(r)}return""};r(),setTimeout(function(){r()},300)},adClose:function(){var e=this;e.reset(),__vtnU.J$(e).trigger("complete"),__vtnU.J$(e).trigger("hli")},adError:function(){var e=this;errEvent=__vtnU.J$.Event("error"),errEvent.code="951",errEvent.msg="googleIMAError",e.reset(),__vtnU.J$(e).trigger(errEvent),__vtnU.J$(e).trigger("hli")},startTimer:function(){var e=this;e.loadTimer=setInterval(function(){e.adError()},e.timeout+1e3)},endTimer:function(){var e=this;clearInterval(e.loadTimer)},reset:function(){var e,t=this;if(t.endTimeKeeper(),t.endTimer(),t.muted=!1,t.volume=1,t.duration=0,t.currentTime=0,t.adsLoader&&t.adslEvents)for(e in t.adslEvents)try{t.adsLoader.removeEventListener(e,t.adslEvents[e],!1)}catch(r){console.log(r)}if(t.adsLoader="",t.adslEvents="",t.adsManager)try{t.adsManager.destroy()}catch(r){console.log(r)}t.impLogged=!1,t.durationDispatched=!1,t.adDisplayContainer="",t.adsManager="",t.adsmEvents="",t.container.innerHTML="",t.container.style.display="none",t.container.style.width=t.container.style.height=0,__vtnU.J$(t.targetDiv+" .ven_playplause").off("click."+t.lns),__vtnU.J$(t.mjs).off("."+t.lns)}},vtHtml5Player.OverlayPlayer=function(e,t,r,i,a){this.targetDiv=e,this.player=t,this.setUp(r),this.setSize(i,a)},vtHtml5Player.OverlayPlayer.prototype={src:"",holder:"",width:0,height:0,vWidth:0,vHeight:0,start:0,end:0,inPlay:!1,bottomPadding:39,hitArea:"",closeBtn:"",maxFlag:!0,setUp:function(e){var t=this,r=(new Date).getTime()+Math.random().toString().replace(".","");t.rendered=!1,t.vtLNS=".vtn_ovlp"+r,t.holder=__vtnU.J$(t.targetDiv+" .ven_overlay"),t.hitArea=__vtnU.J$("<div></div>").appendTo(t.holder),t.hitArea.on(__vtnU.ua.click,function(e){return __vtnU.J$(t).trigger("click"),t.player.changePPState(!0),__vtnU.EPD$(e)}),t.closeBtn=$('<div class="vtn_overlay_close"></div>').appendTo(t.holder),t.closeBtn.on(__vtnU.ua.click,function(e){t.minimizeAd()}),t.openBtn=$('<div class="vtn_overlay_open"></div>').appendTo(t.holder),t.openBtn.hide(),t.openBtn.on(__vtnU.ua.click,function(e){t.maximizeAd()}),t.width=e.media.width,t.height=e.media.height,t.src=e.media.mediaURL,t.start=e.condition.start,t.end=e.condition.end;var i=function(e){var r="string"==typeof e?e:e.type;"timeupdate"==r&&t.trackPlayhead()};__vtnU.J$(t.player).on("timeupdate"+t.vtLNS,i),t.openBtn.css("left",(t.width-32)/2)},trackPlayhead:function(){var e=this;e.player.currentTime<=e.end||"onitemend"===e.end&&e.player.currentTime>=e.start?e.inPlay||e.startAd():e.inPlay&&e.endAd()},startAd:function(){var e=this;e.rendered?e.maxShow():(e.rendered=!0,e.holder.addClass("active"),e.holder.css({width:e.width+"px",height:e.height+"px",display:"block"}),e.img=document.createElement("img"),e.img.style.width=e.width+"px",e.img.style.height=e.height+"px",e.img.src=e.src,e.img.alt="",__vtnU.J$(e.img).on("error",function(){e.onError()}),e.hitArea.html="",e.hitArea.append(__vtnU.J$(e.img)),__vtnU.J$(e).trigger("playing")),e.inPlay=!0,__vtnU.J$(e).trigger("start")},onError:function(){var e=this;e.holder.hide(),e.inPlay=!1,__vtnU.J$(e).trigger("error"),e.destory()},endAd:function(){var e=this;e.holder.hide(),e.holder.removeClass("active"),e.inPlay=!1,__vtnU.J$(e).trigger("complete")},maximizeAd:function(){var e=this;__vtnU.J$(e).trigger("maximize"),setTimeout(function(){e.maxShow()},300)},minimizeAd:function(){var e=this;__vtnU.J$(e).trigger("minimize"),setTimeout(function(){e.minShow()},300)},maxShow:function(){var e=this;e.holder.addClass("active"),e.holder.show(),e.hitArea.show(),e.closeBtn.show(),e.openBtn.hide(),e.maxFlag=!0},minShow:function(){var e=this;e.holder.removeClass("active"),e.hitArea.hide(),e.closeBtn.hide(),e.openBtn.show(),e.maxFlag=!1},setSize:function(e,t){var r=this;"undefined"!=typeof e&&(r.vWidth=e),"undefined"!=typeof t&&(r.vHeight=t-r.bottomPadding),r.vWidth&&r.vHeight&&r.holder.css({top:r.vHeight-r.height,left:(r.vWidth-r.width)/2})},destory:function(){var e=this;return e.holder.removeClass("active"),__vtnU.J$(e.player).off(e.vtLNS),e.holder.css({top:0,left:0,width:"1px",height:"1px",display:"none"}),__vtnU.J$(e.img).off(),e.img=null,e.hitArea.off(),e.hitArea="",e.closeBtn.off(),e.closeBtn="",e.openBtn.off(),e.openBtn="",e.holder.html(""),""}};var VTHtml5PlayerViewElements=function(e){this.globalPlayerConfig=vtnGlblPCS.getInstance(),this.targetDiv=e};VTHtml5PlayerViewElements.prototype={poster:"",bigPlay:"",vfp:!0,scrubbing:!1,touchStart:!1,autoPlay:!1,playOnScroll:!1,posterRendered:!1,touchStartTrigger:"viewport",setStyle:function(e){this.cbConfig="undefined"!=typeof e&&e?e:new vtnParser.VTNCBarConfObj},setAutoPlay:function(e){this.autoPlay="undefined"!=typeof e?e:!1},setPlayOnScroll:function(e){this.playOnScroll="undefined"!=typeof e?e:!1},setTouchStart:function(e){this.touchStart="undefined"!=typeof e?e:!1},setVPF:function(e){this.vfp="undefined"!=typeof e?e:this.vfp=!1},setTouchStartTrigger:function(e){this.touchStartTrigger="undefined"!=typeof e&&"ontouch"==e?"ontouch":"viewport"},lia:{w:56,h:56},createLoadIndc:function(e){var t=this,r=__vtnU.J$(t.targetDiv+" .vnOuterWrapper"),i=__vtnU.J$('<div class="'+e+' ven_primary_viewport ven_loading"></div>').appendTo(r),a=__vtnU.J$('<div class="mejs-overlay-loading"><span></span></div>').appendTo(i);t.loaderP=i[0],t.loader=a[0]},showLoadIndc:function(){this.loaderP&&(this.loaderP.style.display="block"),this.positionLoadIndc()},hideLoadIndc:function(){this.loaderP&&(this.loaderP.style.display="none"),this.positionLoadIndc()},positionLoadIndc:function(){var e=this;position=function(){var t=(__vtnU.J$(e.targetDiv+" .vnOuterWrapper").width()-e.lia.w)/2,r=(__vtnU.J$(e.targetDiv+" .vnOuterWrapper").height()-e.lia.h)/2;e.loader.style.top=r+"px",e.loader.style.left=t+"px"},position(),setTimeout(function(){position()},300)},createPosterTag:function(){var e=this,t=__vtnU.J$(e.targetDiv);e.poster=__vtnU.J$('<div class="vnThumbOverlay"></div>').prependTo(t)},createPoster:function(e,t){var r=this,i=__vtnU.J$(r.targetDiv);r.poster||r.createPosterTag(),__vtnU.J$(r.targetDiv+" .vnThumbOverlay").html(""),__vtnU.J$(r.targetDiv+" .vnThumbOverlay").css({position:"relative",overflow:"hidden"}),__vtnU.J$(r.targetDiv+" .vnThumbOverlay").append("<img class='vnThumb' src='"+e+"' alt='"+t+"'></img>"),__vtnU.J$(r.targetDiv+" .vnThumbOverlay").append("<div class='vnTitle' ><span>"+t+"</span></div>");var a=__vtnU.J$(r.targetDiv+" .vnThumbOverlay div.vnTitle"),n=__vtnU.J$(r.targetDiv+" .vnThumbOverlay img.vnThumb");r.adjustTitle(a,i.height()),n.on("load",function(){n.off("load"),r.posterRendered=!0,r.adjImgPos(n,i.width(),i.height(),a)})},hidePoster:function(){var e=this;__vtnU.J$(e.targetDiv+" .vnThumbOverlay").hide()},showPoster:function(){var e=this;__vtnU.J$(e.targetDiv+" .vnThumbOverlay").show()},positionPoster:function(){if(this.posterRendered){var e=this,t=__vtnU.J$(e.targetDiv+" .vnThumbOverlay div.vnTitle"),r=__vtnU.J$(e.targetDiv+" .vnThumbOverlay img.vnThumb"),i=__vtnU.J$(e.targetDiv);e.adjImgPos(r,i.width(),i.height(),t)}},adjImgPos:function(e,t,r,i){var a,n,o=this,s=e[0];s.src=e.attr("src");var n,a,l=t,c=r,d=c/l,p=s.width,v=s.height,u=v/p;d>u?(a=c,n=c/u):(a=l*u,n=l);var m=(l-n)/2,h=(c-a)/2;e.css({position:"absolute",width:n,height:a,"min-width":n,"min-height":a,"max-width":n,"max-height":a,left:m,top:h});var i=__vtnU.J$(o.targetDiv+" .vnThumbOverlay div.vnTitle");__vtnU.J$(o.targetDiv+" .vnThumbOverlay img.vnThumb");o.adjustTitle(i,__vtnU.J$(o.targetDiv).height())},adjustTitle:function(e,t){e.height(t/3)},createBigPlay:function(e){var t=this,r=__vtnU.J$(t.targetDiv+" .vnOuterWrapper"),i=__vtnU.J$('<div class="'+e+' ven_primary_viewport ven_bigplay"></div>').appendTo(r);t.bigPlay||(t.bigPlay=__vtnU.J$("<div class='vnBigPlayBtn' style='position: absolute;'></div>").appendTo(i),this.bigPlayP=i[0]),t.positionBigPlay()},showBigPlay:function(){var e=this;e.bigPlayP&&(e.bigPlayP.style.display="block"),e.positionBigPlay()},hideBigPlay:function(){this.bigPlayP&&(this.bigPlayP.style.display="none")},positionBigPlay:function(){var e=this,t=__vtnU.J$(e.targetDiv+" .vnOuterWrapper");e.bigPlay||(e.bigPlay=__vtnU.J$(e.targetDiv+" .vnBigPlayBtn"));e.bigPlay.width(),e.bigPlay.height();t.height()>=140?e.bigPlay.removeClass("small"):e.bigPlay.addClass("small");var r=(t.width()-e.bigPlay.width())/2,i=(t.height()-e.bigPlay.height())/2;e.bigPlay.css({top:i+"px",left:r+"px"})},createAdIndicator:function(){var e=this;__vtnU.J$(e.targetDiv);__vtnU.J$(e.targetDiv+" div.mejs-container.mejs-video").append("<span class='adIndicator'>Advertisement</span>"),$adIndicator=__vtnU.J$(e.targetDiv+" div.mejs-container.mejs-video").find(".adIndicator"),$adIndicator[0]&&$adIndicator.hide()},showAdIndicator:function(){var e=this;__vtnU.J$(e.targetDiv+" .adIndicator").show()},hideAdIndicator:function(){var e=this;__vtnU.J$(e.targetDiv+" .adIndicator").hide()},createSkipAd:function(){var e=this,t=__vtnU.J$(e.targetDiv+" .vnOuterWrapper");t.append("<span class='skip_ad'>SKIP AD <span class='skip_icon'></span></span>"),$skipAd=t.find(".skip_ad"),$skipAd.on(__vtnU.ua.click,function(t){return __vtnU.J$(e).trigger("skipClick"),__vtnU.EPD$(t)}),$skipAd[0]&&$skipAd.hide()},showSkipAd:function(){var e=this;"PC"==e.globalPlayerConfig.getDeviceType()||2==vtnPlayerUtils.deviceType||vtnPlayerUtils.deviceType>=4?__vtnU.J$(e.targetDiv+" .skip_ad").show():__vtnU.J$(e.targetDiv+" .skip_ad").hide()},hideSkipAd:function(){var e=this;__vtnU.J$(e.targetDiv+" .skip_ad").hide()},createVPIADContainer:function(){var e=this,t=document.createElement("div"),r=document.createElement("div"),i=__vtnU.J$(e.targetDiv+" .vnOuterWrapper");t.setAttribute("class","ven_primary_viewport"),r.setAttribute("class","vpaidCntnr"),r.style.display="none",r.style.width=r.style.height="100%",t.appendChild(r),i.append(t)},createPlayHitArea:function(e){var t=this,r=__vtnU.J$(t.targetDiv+" .vnOuterWrapper");if(!t.playHit){__vtnU.J$('<div class="'+e+' ven_primary_viewport ven_playplause" style="display:none;"></div>').appendTo(r);var i=__vtnU.J$('<div class="'+e+' ven_primary_viewport ven_playhit"></div>').appendTo(r);t.playHit=i[0]}},showPlayHitArea:function(){this.playHit&&(this.playHit.style.display="block")},hidePlayHitArea:function(){this.playHit&&(this.playHit.style.display="none")},onPlayClick:function(e){var t=this,r="touchmove";if(onPlayClickLcl=function(t){return e("click"),__vtnU.EPD$(t)},t.autoPlay)e("autoplay");else if(t.playOnScroll){var i=function(){t.vfp&&__vtnU.checkElementInViewport(t.targetDiv,5)&&e("onScroll")};window.addEventListener?window.addEventListener("scroll",i,!0):window.attachEvent&&window.attachEvent("scroll",i)}else{var a=function(){t.vfp&&("ontouch"==t.touchStartTrigger||__vtnU.checkElementInViewport(t.targetDiv))&&e("touch")};t.touchStart&&(2==vtnPlayerUtils.deviceType||vtnPlayerUtils.deviceType>=4)&&(2==vtnPlayerUtils.deviceType&&(r="touchstart"),__vtnU.J$(t.playHit).on("touchstart",onPlayClickLcl),window.addEventListener?window.addEventListener(r,a,!0):window.attachEvent&&window.attachEvent(r,a))}__vtnU.J$(t.playHit).on(__vtnU.ua.click,onPlayClickLcl)},showError:function(e){var t,r=__vtnU.J$(this.targetDiv);if(r[0]){switch(r.empty(),e){case 5:t="<span align='center' style=' display:block; margin:auto; color: #F3EFE4; font-family: Verdana, sans-serif; font-style: normal; font-weight: normal; text-align:center;' ><span style='font-size: 35px'>SORRY!</span><br/><span style='font-size: 13px'>This device does not support live streaming.</span></span>";break;case 2:t="<span align='center' style=' display:block; margin:auto; color: #F3EFE4; font-family: Verdana, sans-serif; font-style: normal; font-weight: normal; text-align:center;' ><span style='font-size: 35px'>SORRY!</span><br/><span style='font-size: 13px'>This video is currently not available on this deivce.</span></span>";break;default:t="<span align='center' style=' display:block; margin:auto; color: #F3EFE4; font-family: Verdana, sans-serif; font-style: normal; font-weight: normal; text-align:center;' ><span style='font-size: 35px'>SORRY!</span><br/><span style='font-size: 13px'>Network Error<br/>Please try again after a while to watch the video.</span></span>"}return r.append("<div class='vtn_errorMessage' style='margin: auto; position: relative; padding:20px;' ></div>"),__vtnU.J$(".vtn_errorMessage").append(t),!0}return!1},createOverlayAdHolder:function(e){var t=this,r=__vtnU.J$(t.targetDiv+" .vnOuterWrapper");t.overlayHolder=__vtnU.J$('<div class="ven_overlay" style="position:absolute;top:0;left:0;width:1px;height:1px;display:none"></div>').appendTo(r)},options:{fullscreenText:"Fullscreen",playpauseText:"Play/Pause",showTimecodeFrameCount:!1,alwaysShowHours:!1,duration:-1,timeAndDurationSeparator:" <span> | </span> ",muteText:"Mute Toggle"},buildControlBar:function(){var e=this,t=__vtnU.J$(e.targetDiv+" .vnOuterWrapper");t.append("<div class='controls-wrapper vtn-skin-gray mejs-container' style='bottom:0; left:0; width:100%; height:39px; background:none; position: absolute; display:none;' ><div class='mejs-controls' ></div></div>"),e.controlsWrapper=__vtnU.J$(this.targetDiv+" .controls-wrapper"),e.controls=__vtnU.J$(this.targetDiv+" .mejs-controls"),e.buildPlayPause(),e.buildCurrent(),e.buildProgress(),e.buildDuration(),e.buildFullScreen(),e.buildScrubDisabler(),e.buildLiveSupport(),e.setControlsSize(0,0)},showControlBar:function(){var e=this;e.controlsWrapper.show()},hideControlBar:function(){var e=this;e.controlsWrapper.hide()},setControlsSize:function(e,t){var r=this,i=0,a=0,n=r.controls.find(".mejs-time-rail"),o=r.controls.find(".mejs-time-total");r.controls.find(".mejs-time-current"),r.controls.find(".mejs-time-loaded");others=n.siblings(),a=parseInt(n.css("width")),others.each(function(){"absolute"!=__vtnU.J$(this).css("position")&&(i+=__vtnU.J$(this).outerWidth(!0))}),a=r.controls.width()-i-1,n.width(a),o.width(a),r.setProgressRail(e),r.setCurrentRail(t),$disable=__vtnU.J$(r.targetDiv+" div.controle_disable"),$disable.width(a+7),$disable.css("left",__vtnU.J$(r.targetDiv+" .mejs-button.mejs-playpause-button").outerWidth(!0)+__vtnU.J$(r.targetDiv+" .mejs-time.mejs-currenttime-container").outerWidth()-4+"px");var s=(__vtnU.J$(r.targetDiv+" .mejs-container .mejs-controls").width()-__vtnU.J$(r.targetDiv+" .mejs-container .mejs-controls .vnLiveText").width())/2;__vtnU.J$(r.targetDiv+" .mejs-container .mejs-controls .vnLiveText").css("left",s+"px")},buildPlayPause:function(){var e=this,t=__vtnU.J$('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+e.id+'" title="'+e.options.playpauseText+'"></button></div>').appendTo(e.controls).on(__vtnU.ua.click,function(t){return __vtnU.J$(e).trigger("ppClick"),__vtnU.EPD$(t)});e.$play=t},setPlayPause:function(e){var t=this;if("undefined"==typeof e)var e="play";t.$play.removeClass("mejs-play").removeClass("mejs-pause"),"pause"==e?t.$play.addClass("mejs-play"):t.$play.addClass("mejs-pause")},buildProgress:function(){var e=this,t=0;__vtnU.J$('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span></span></div>').appendTo(e.controls),e.loaded=e.controls.find(".mejs-time-loaded"),e.total=e.controls.find(".mejs-time-total"),e.current=e.controls.find(".mejs-time-current"),e.handle=e.controls.find(".mejs-time-handle");var r=function(r){var i=r.pageX||r.originalEvent.touches[0].pageX,a=e.total.offset(),n=e.total.outerWidth(),o=i-a.left,s=0;i>a.left&&i<=n+a.left&&(s=o-e.handle.outerWidth(!0)/2,e.handle.css("left",s),t=(i-a.left)/n)},i=!1;(2==vtnPlayerUtils.deviceType||vtnPlayerUtils.deviceType>=4)&&mejs.MediaFeatures.hasTouch?e.total.on("touchstart",function(a){return 0===a.which?(i=!0,r(a),__vtnU.J$(document).on("touchmove.dur",function(t){e.scrubbing=!0,r(t)}).on("touchend.dur",function(r){i=!1,e.scrubbing=!1,__vtnU.J$(document).off(".dur"),__vtnU.J$(e).trigger("ppScrub",[t])}),!1):void 0}):e.total.on("mousedown",function(a){return 1===a.which?(i=!0,r(a),__vtnU.J$(document).on("mousemove.dur",function(t){e.scrubbing=!0,r(t)}).on("mouseup.dur",function(r){i=!1,e.scrubbing=!1,__vtnU.J$(document).off(".dur"),__vtnU.J$(e).trigger("ppScrub",[t])}),!1):void 0})},setProgressRail:function(e){var t=this;t.loaded&&t.total&&t.loaded.width(t.total.width()*e)},setCurrentRail:function(e){var t=this;if(t.current&&t.total){var r=t.total.width()*e,i=r-t.handle.outerWidth(!0)/2;t.current.width(r),t.scrubbing||t.handle.css("left",i)}},buildCurrent:function(){var e=this;__vtnU.J$('<div class="mejs-time"><span class="mejs-currenttime">'+(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(e.controls),e.currenttimeD=e.controls.find(".mejs-currenttime")},buildDuration:function(){var e=this;e.controls.children().last().find(".mejs-currenttime").length>0?__vtnU.J$('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">00:00</span></div>').appendTo(e.controls.find(".mejs-time")):(e.controls.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),__vtnU.J$('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">00:00</span></div>').appendTo(e.controls)),e.durationD=e.controls.find(".mejs-duration")},updateCurrent:function(e){var t=this;if("undefined"==typeof e||isNaN(e))var e=0;t.currenttimeD&&(t.currenttimeD.html(mejs.Utility.secondsToTimeCode(e,t.options.alwaysShowHours||e>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25)),t.setControlsSize())},updateDuration:function(e){var t=this;if("undefined"==typeof e||isNaN(e))var e=0;t.durationD&&(t.durationD.html(mejs.Utility.secondsToTimeCode(e,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25)),t.setControlsSize())},buildFullScreen:function(){var e=this;e.$fsBtn=__vtnU.J$('<div class="mejs-button mejs-fullscreen-button"><button type="button" title="'+e.options.fullscreenText+'"></button></div>').appendTo(e.controls)},disableFullScreenBtn:function(){var e=this;e.$fsBtn.css("opacity",.1),e.$fsBtn.off()},enbaleFullScreenBtn:function(){var e=this;e.$fsBtn.css("opacity",1),e.$fsBtn.off(),e.$fsBtn.on(__vtnU.ua.click,function(t){return __vtnU.J$(e).trigger("fsClick"),__vtnU.EPD$(t)})},setFullScreen:function(e){var t=this;if("undefined"==typeof e)var e="off";t.$fsBtn.removeClass("mejs-fullscreen").removeClass("mejs-unfullscreen"),"on"==e?t.$fsBtn.addClass("mejs-unfullscreen"):t.$fsBtn.addClass("mejs-fullscreen")},buildScrubDisabler:function(){var e=this,t=document.createElement("div");t.className="controle_disable",t.style.display="none",e.controls.append(t)},showScrubDisabler:function(){var e=this,t=__vtnU.J$(e.targetDiv+" div.controle_disable");t.show()},hideScrubDisabler:function(){var e=this,t=__vtnU.J$(e.targetDiv+" div.controle_disable");t.hide()},buildLiveSupport:function(){var e=this;__vtnU.J$(e.targetDiv+" .mejs-controls").append("<div class='vnLiveText' style='display:none;'></div>")},showLiveSupport:function(){var e=this;__vtnU.J$(e.targetDiv+" .mejs-container .mejs-controls .vnLiveText").show();__vtnU.J$(e.targetDiv+" .mejs-container .mejs-time").css("visibility","hidden"),__vtnU.J$(e.targetDiv+" .mejs-container .mejs-time-total").css("visibility","hidden")},hideLiveSupport:function(){var e=this;__vtnU.J$(e.targetDiv+" .mejs-container .mejs-controls .vnLiveText").hide();__vtnU.J$(e.targetDiv+" .mejs-container .mejs-time").css("visibility","visible"),__vtnU.J$(e.targetDiv+" .mejs-container .mejs-time-total").css("visibility","visible")},setMuted:function(){return""},setVolume:function(){return""}},vtnParser={VTNPlaylsitParser:function(e,t,r){var i=("undefined"!=typeof _userInit&&_userInit?!0:!1,this.globalPlayerConfig=vtnGlblPCS.getInstance()),a=(this.device=i.getDeviceType(),this.plData="undefined"!=typeof e&&e?e:{}),n=this.confObj=new vtnParser.VTNConfObj;this.parserConfObj=new vtnParser.VTNParserConfObj,this.cBarObj=n.cBarObj,this.plpData="",this.callBack="undefined"!=typeof r&&r?r:function(e){console.log("no call back assigned")};this.processBeacons(a.beacons||{}),this.parsePlrConfig(a.player_settings||{},t),this.videoObj=this.processMedia(a.media||{}),!this.videoObj||this.videoObj.error?this.returnError(this.videoObj.error):(this.processPlugins(a.plugins||{}),this.processAds())},VTNM3U8Parser:function(e,t){this.path=e,this.callBack="undefined"!=typeof t&&t?t:function(e){console.log("no call back assigned")},this.getBasePath(),this.loadFile()},VTNXHRequest:function(e,t,r,i,a){var n;return this.clb="undefined"!=typeof t&&t?t:function(e){console.log("no call back assigned")},this.rType="undefined"!=typeof r&&r?r:"xml",this.xhrDelay="undefined"!=typeof i&&i?i:vtnParser.XHR_DEFAULT_DELAY,this.postData="undefined"!=typeof a&&a?a:!1,n=!!this.postData,this.retry=n?!1:!0,window.XMLHttpRequest?(this.url=this.processURL(e),void this.makeRequest(n)):(this.clb({error:["321","301"]}),"")},VTNVastParser:function(e,t,r,i,a,n,o,s){var l="undefined"!=typeof i&&i==vtnParser.AD_NONLINEAR?vtnParser.AD_NONLINEAR:vtnParser.AD_LINEAR;this.globalPlayerConfig=vtnGlblPCS.getInstance(),this.wrapperCount="undefined"!=typeof r?r:0,this.canBAdPod="undefined"!=typeof n?n:!0,this.passBackEnabled="undefined"!=typeof o?o:!1,this.trivH="undefined"!=typeof s?s:!1,this.parserCnfg="object"==typeof t?t:new vtnParser.VTNParserConfObj,this.callBack="undefined"!=typeof a&&a?a:function(e){console.log("no call back assigned")},vtnParser.AD_NONLINEAR==i&&(this.canBAdPod=!1),"undefined"==typeof e&&this.callBack({error:["100"]}),"string"==typeof e||e instanceof String?this.loadVastTag(e,l):this.readVastJson(e,l)},VTNVastExtensionsParser:function(e,t){this.adObj="object"==typeof t?t:{},"undefined"!=typeof e&&e&&Array.isArray(e)&&e.length&&(this.extensions=e,this.extensionParser())},VTNConfObj:function(e){this.trackers={},this.width=this.height=0,
this.touchStartTrigger="viewport",this.volume=.4,this.autoPlay=!1,this.playOnScroll=!1,this.playContent=!1,this.muted=!1,this.unmuteOnScroll=!1,this.unmuteOnMouseMove=!1,this.touchStart=!1,this.cBarObj=new vtnParser.VTNCBarConfObj},VTNParserConfObj:function(e){this.wrapperCount=vtnParser.WRAPPER_COUNT,this.vastTimeout=vtnParser.VAST_DEFAULT_TIMEOUT},VTNCBarConfObj:function(){this.bgColor="#363636",this.btnColor="white",this.hlColor="#76B52B",this.mode="float",this.logo={}},VTNMediaObj:function(){this.contentType="content",this.media={},this.error=!1},VTNAdPod:function(){this.showNotice=!0,this.ads=[],this.condition={placement:vtnParser.UNDEFINED,type:vtnParser.UNDEFINED}},VTNPreAdObj:function(){this.type=vtnParser.AD_LINEAR,this.sequence=0,this.trackers={}},VTNAdObj:function(e){this.type=vtnParser.AD_LINEAR,this.contentType="ad",this.sequence=e,this.media={},this.error=!1},VTNCreativeObj:function(e){this.width=this.height=0,this.trackers={}},VTNCompanionObj:function(){this.required="none",this.companions=[],this.trackers={},this.type=vtnParser.AD_COMPANION},VTNTitleCardObj:function(){this.media={duration:2},this.valid=!1,this.contentType=vtnParser.TITLE_CARD},VTNRelatedVideosObj:function(){this.media={swfURL:"",apiURL:"",mimeType:"application/x-shockwave-flash"},this.contentType=vtnParser.RELATED_VIDEOS},utilObj:{filterMIMEType:function(e,t){var r=e.filter(function(e){return e.mimeType&&e.mimeType==t}),i=function(){return r&&r.length?r:!1};return e.length<=1?"":i()||""},filterAPIFramework:function(e,t){var r,i=e.filter(function(e){return e.apiFramework&&e.apiFramework==t}),a=function(e){var t=0,a=i.length;for(t;a>t;t++)if(r=i[t],r.mimeType&&r.mimeType==e)return[r];return!1};return e.length<=1?"":a("application/javascript")||a("application/x-shockwave-flash")||""},getMinBandWidth:function(e,t){var r,i=e.filter(t);if(0==i.length)return"";if(1==i.length)return i[0];r=i[0];for(var a=1;a<i.length;a++)Number(r.bitrate)>Number(i[a].bitrate)&&(r=i[a]);return r},parserTracker:function(e,t){for(var r=Array.isArray(e)?e:[e],i=0;i<r.length;i++)t.push({track:unescape(r[i]+""),hit:!1})},combineTrackers:function(e,t,r){var i="undefined"!=typeof r&&r?!0:!1;e.trackers||(e.trackers={});for(var a in t)e.trackers[a]||(e.trackers[a]=[]),i&&"start"==a?e.trackers[a]=t[a].concat(e.trackers[a]):e.trackers[a]=e.trackers[a].concat(t[a])},isProgressive:function(e){return e.delivery&&"progressive"==e.delivery&&e.bitrate&&!isNaN(e.bitrate)}},ON_ITEM_START:"OnItemStart",ON_ITEM_END:"OnItemEnd",ON_ADBREAK_START:"OnAdbreakStart",VAST:"vast",VAST_URL:"vast_url",GOOGLE_IMA:"google_ima",PRE_ROLL:"preroll",POST_ROLL:"postroll",AD_BREAK:"adbreak",OVERLAY:"overlay",UNDEFINED:"",WRAPPER_COUNT:3,AD_LINEAR:"linear",AD_NONLINEAR:"nonlinear",AD_COMPANION:"companion",TITLE_CARD:"title-card",RELATED_VIDEOS:"related-videos",VAST_DEFAULT_TIMEOUT:3e3,XHR_DEFAULT_DELAY:1e3,TIME_STAMP_MACROS:["${TIMESTAMP}","{TIMESTAMP}","{timestamp}","{TimeStamp}",,"[timestamp]","[TimeStamp]","[TIMESTAMP]"]},vtnParser.VTNPlaylsitParser.prototype={preAds:[],vastPrsrObj:"",rltdVidObj:"",processBeacons:function(e){var t=this,r="undefined"!=typeof e&&e?e:"",i=[],a=[];if(r){for(var n in r)switch(n.toLowerCase()){case"userinfogif":i=Array.isArray(r[n])?r[n]:[r[n]];break;case"usertrackingurl":a=Array.isArray(r[n])?r[n]:[r[n]],t.confObj.trackers.playclicked||(t.confObj.trackers.playclicked=[]),vtnParser.utilObj.parserTracker(a,t.confObj.trackers.playclicked)}for(n=0;n<i.length;n++)__vtnU.hitTracker(i[n],1)}},parsePlrConfig:function(e,t){var r=this,i="undefined"!=typeof e&&e?e:{},a="undefined"!=typeof t&&t?!0:!1;if(i){for(var n in i)switch(n.toLowerCase()){case"autoplay":"PC"==r.globalPlayerConfig.getDeviceType()&&(r.confObj.autoPlay="true"==unescape(i[n])?!0:!1);break;case"autoplayonscrolljs":"PC"==r.globalPlayerConfig.getDeviceType()&&(r.confObj.playOnScroll="true"==unescape(i[n])?!0:!1);break;case"playcontent":"PC"==r.globalPlayerConfig.getDeviceType()&&(r.confObj.playContent="true"==unescape(i[n])?!0:!1);break;case"unmuteonscrolljs":r.confObj.unmuteOnScroll="true"==unescape(i[n])?!0:!1;break;case"unmuteonmousemovejs":r.confObj.unmuteOnMouseMove="true"==unescape(i[n])?!0:!1;break;case"muted":r.confObj.muted="true"==unescape(i[n])?!0:!1;break;case"volume":r.confObj.volume=parseFloat(i[n]);break;case"controlbarmode":r.cBarObj.mode="float"==unescape(i[n])?"float":"docked";break;case"controlbarautohidetimeout":r.cBarObj.autohidetimeout=parseFloat(i[n]);break;case"touchstart":"MB"==r.globalPlayerConfig.getDeviceType()&&(r.confObj.touchStart=a&&"true"==unescape(i[n])?!0:!1);break;case"touchstarttrigger":r.confObj.touchStartTrigger="ontouch"==unescape(String(i[n]))?"ontouch":"viewport";break;case"maxwrapperredirects":r.parserConfObj.wrapperCount=parseInt(i[n])||vtnParser.WRAPPER_COUNT;break;case"vasttimeout":case"timeout":r.parserConfObj.vastTimeout=parseFloat(i[n])?1e3*parseFloat(i[n]):vtnParser.VAST_DEFAULT_TIMEOUT;break;case"usertrackingurl":break;case"externaljscallback":r.globalPlayerConfig.setExtCB(unescape(String(i[n])));break;default:r.confObj[n]=unescape(i[n])}r.confObj.wrapperCount=r.parserConfObj.wrapperCount,r.confObj.vastTimeout=r.parserConfObj.vastTimeout}},processPlugins:function(e){var t,r,i=this,a=e;for(t in a)switch(r=a[t],t.toLowerCase()){case"controlbar":i.processControlBar(r);break;case"adplugin":i.preAds=i.processPreAds(r);break;case"externalplugins":i.processExtPlgns(r);break;case"tracker":i.processTrackers(r);break;case"relatedvideos":i.rltdVidObj="PC"==i.globalPlayerConfig.getDeviceType()?i.processRelatedVids(r):""}},processTrackers:function(e){var t=this;trData="undefined"!=typeof e&&e&&e.metadata&&e.metadata.length&&e.metadata[0]&&e.metadata[0].params&&e.metadata[0].params.events?e.metadata[0].params.events:{},t.confObj.trackers=t.parseConfigTrackers(trData),t.videoObj.trackers=t.parseMediaTrackers(trData)},parseConfigTrackers:function(e){trackers={};for(var t in e)switch(t.toLowerCase()){case"autoplay":case"playclicked":case"ontouch":case"onreplay":case"replay":case"viewed":trackers[t.toLowerCase()]||(trackers[t.toLowerCase()]=[]),vtnParser.utilObj.parserTracker(e[t],trackers[t.toLowerCase()])}return trackers},parseMediaTrackers:function(e){trackers={};for(var t in e)switch(t.toLowerCase()){case"autoplay":case"playclicked":case"ontouch":case"onreplay":case"replay":case"viewed":break;default:trackers[t]||(trackers[t]=[]),vtnParser.utilObj.parserTracker(e[t],trackers[t.toLowerCase()])}return trackers},processExtPlgns:function(e){var t,r=this,i="undefined"!=typeof e&&e&&e.metadata&&e.metadata.length&&e.metadata[0]&&e.metadata[0].params&&e.metadata[0].params.plugins?e.metadata[0].params.plugins:{};for(t in i)switch(t.toLowerCase()){case"playlistwidget":r.plpData=i[t].data||""}},processRelatedVids:function(e){var t,r="undefined"!=typeof e&&e&&e.metadata&&e.metadata.length&&e.metadata[0]&&e.metadata[0].params&&e.metadata[0].params?e.metadata[0].params:"",i=new vtnParser.VTNRelatedVideosObj;if(r){for(t in r)switch(t.toLowerCase()){case"media":i.media.swfURL=r[t];break;case"source":i.media.apiURL=r[t];break;default:i[t]=r[t]}if(i.media.swfURL&&i.media.apiURL)return i}return""},processControlBar:function(e){var t,r=this,i=e.metadata&&e.metadata.length&&e.metadata[0]&&e.metadata[0].params?e.metadata[0].params:{},a=i.skin||{};i.logo||{};for(t in a)switch(t.toLowerCase()){case"backgroundcolor":r.cBarObj.bgColor=String(a[t]).replace("0x","#");break;case"upcolor":r.cBarObj.btnColor=String(a[t]).replace("0x","#");break;case"logo":r.processLogo(a[t]);break;case"progresscolor":r.cBarObj.hlColor=String(a[t]).replace("0x","#")}},processLogo:function(e){var t,r=this,i="undefined"!=typeof e&&e?e:{};for(t in i)switch(t.toLowerCase()){case"clickthrough":r.cBarObj.logo.click=i[t];break;case"url":r.cBarObj.logo.url=i[t]}},processPreAds:function(e){var t,r,i=e.metadata&&e.metadata.length&&e.metadata[0]&&e.metadata[0].params?e.metadata[0].params:{},a=i.ads||{},n=i.ads||{},o=[];for(t in a){switch(n=a[t],r={conditionObj:{type:vtnParser.AD_LINEAR},showNotice:n.showNotice&&"false"==n.showNotice?!1:!0,format:n.format&&"inline"==n.format?vtnParser.VAST:vtnParser.VAST_URL,source:n.source||"",adParameters:n.AdParameters||""},n.apiFramework&&"googleima"==String(n.apiFramework).toLowerCase()&&(r.format=vtnParser.GOOGLE_IMA),t.toLowerCase()){case vtnParser.PRE_ROLL:r.conditionObj.placement=vtnParser.PRE_ROLL;break;case vtnParser.POST_ROLL:r.conditionObj.placement=vtnParser.POST_ROLL;break;case vtnParser.OVERLAY:r.conditionObj.placement=vtnParser.OVERLAY,r.conditionObj.type=vtnParser.AD_NONLINEAR,r.conditionObj.start=n.start?vtnPlayerUtils.timeCode2Secs(n.start)||.5:.5,r.conditionObj.end=n.end?vtnPlayerUtils.timeCode2Secs(n.end)||"onitemend":"onitemend"}r&&r.source&&r.conditionObj&&r.conditionObj.type&&r.conditionObj.placement&&o.push(r)}return o},processAds:function(){var e,t,r,i=this,a=0,n=[],o=function(){i.preAds&&i.preAds.length&&a<i.preAds.length?i.processAd(i.preAds[a],function(i){if(i&&!i.error&&i.ads&&i.ads.length)for(r=i.ads,t=r.length,e=0;t>e;e++)n.push(r[e]);a++,o()}):i.createMediaPlaylist(n)};o()},processAd:function(e,t){var r=this,i=new vtnParser.VTNAdPod,a=function(e){return{error:"Ad Error - "+e}};i.condition=e.conditionObj,i.showNotice=e.showNotice,e.source?e.format==vtnParser.VAST?r.parseVastXML(e.source,i,function(e){t(e)}):e.format==vtnParser.VAST_URL?"PC"===r.globalPlayerConfig.getDeviceType()?(i.ads.push({showNotice:i.showNotice,contentType:"ad",condition:i.condition,vastURL:e.source}),t(i)):r.parseVastURL(e.source,i,function(e){t(e)}):e.format==vtnParser.GOOGLE_IMA?r.parseGoogleIMA(e.source,e.adParameters||"",i,function(e){t(e)}):t(a("invalid ad-format")):t(a("ad empty"))},parseGoogleIMA:function(e,t,r,i){var a=new vtnParser.VTNAdObj,n={delivery:"progressive",type:"recorded"};source="undefined"!=typeof e&&e?e:"",adParam="undefined"!=typeof t&&t?t:"",genErrorObj=function(e){return{error:"Ad Error - "+e}},source&&adParam?(n.apiFramework="GoogleIMA",n.mimeType="application/javascript",n.mediaURL=e,n.adparameters=t,a.media=n,a.condition=r.condition,a.showNotice=r.showNotice,r.ads.push(a),i(r)):i(genErrorObj("invalid ad-format"))},parseVastURL:function(e,t,r){var i,a,n=this,o=function(e){return{error:"Ad Error - "+e}};n.destroyVastPrsr(),n.vastPrsrObj=new vtnParser.VTNVastParser(e,n.confObj,0,t.condition.type,function(e){if(n.destroyVastPrsr(),"undefined"!=typeof e&&e&&e.length){for(a=e.length,i=0;a>i;i++)e[i].error||(e[i].condition=t.condition,e[i].showNotice=t.showNotice,t.ads.push(e[i]));r(t.ads&&t.ads.length?t:o("vast-parser error"))}else r(o("vast-parser error"))},!0,!0)},parseVastXML:function(e,t,r){var i=this,a="",n="",o=window.DOMParser?new DOMParser:"",s=function(e){return{error:"Ad Error - "+e}};if(o){try{a=o.parseFromString(vtnPlayerUtils.decode(e),"text/xml"),n=vtnPlayerUtils.xml2JObj(a.firstElementChild||a.lastElementChild||a.documentElement)}catch(l){r(s("xml-dom-parser error"))}n?"PC"===i.globalPlayerConfig.getDeviceType()?(t.ads.push({contentType:"ad",condition:t.condition,showNotice:t.showNotice,vastJSON:n}),r(t)):(i.destroyVastPrsr(),i.vastPrsrObj=new vtnParser.VTNVastParser(n,i.confObj,0,t.condition.type,function(e){if(i.destroyVastPrsr(),"undefined"!=typeof e&&e&&e.length){for(var a=0;a<e.length;a++)e[a].error||(e[a].condition=t.condition,e[a].showNotice=t.showNotice,t.ads.push(e[a]));r(t.ads&&t.ads.length?t:s("vast-parser error"))}else r(s("vast-parser error"))},!0,!0)):r(s("xml-dom-parser error"))}else r(s("xml-dom-parser error"))},createMediaPlaylist:function(e){var t,r,i,a=this,n=[],o=[],s=[],l=[],c=[],d=e;for(r=d.length,t=0;r>t;t++)switch(i=d[t],i.condition.placement){case vtnParser.PRE_ROLL:o.push(i);break;case vtnParser.POST_ROLL:s.push(i);break;case vtnParser.OVERLAY:l.push(i);break;case vtnParser.AD_BREAK:c.push(i)}for(l[0]&&(a.videoObj.overlay=l[0]),c[0]&&(a.videoObj.adbreak=c[0]),t=0;t<o.length;t++)n.push(o[t]);for(a.titleCard&&a.titleCard.valid&&n.push(a.titleCard),n.push(a.videoObj),t=0;t<s.length;t++)n.push(s[t]);a.rltdVidObj&&n.push(a.rltdVidObj),a.callBack({config:a.confObj,media:n,plpData:a.plpData})},processTitleCard:function(e){var t,r="undefined"!=typeof e||e?e:{},i=new vtnParser.VTNTitleCardObj;for(t in r)switch(t.toLowerCase()){case"mediaurl":i.media.mediaURL=unescape(r[t]+"");break;case"mimetype":("image/jpeg"==r[t]||"image/pjpeg"==r[t]||"image/jpg"==r[t]||"image/png"==r[t]||"image/gif"==r[t])&&(i.media.mimeType=unescape(r[t]+""));break;case"deliverytype":i.media.delivery=unescape(r[t]+"");break;case"duration":i.media.duration=vtnPlayerUtils.timeCode2Secs(unescape(r[t]+""));break;default:i[t]=unescape(r[t]+"")}return i.media.mediaURL&&i.media.mimeType&&(i.valid=!0),i},processMedia:function(e){var t,r=this,i=new vtnParser.VTNMediaObj,a="undefined"!=typeof e||e?e:{},n=function(e){return{error:"Media Error - "+e}};for(var t in a)switch(t.toLowerCase()){case"title":case"videotitle":r.confObj.videoTitle=i.videoTitle=unescape(a[t]+"");break;case"deliverytype":i.media.delivery=a[t];break;case"streamtype":i.media.type=a[t];break;case"posterurl":case"mediaurl":r.confObj[t]=i.media[t]=unescape(a[t]+"");break;case"mimetype":("video/mp4"==a[t]||"video/x-mp4"==a[t]||"application/x-mpegURL"==a[t]||"vnd.apple.mpegURL"==a[t])&&(r.confObj[t]=i.media[t]=unescape(a[t]+""));break;case"titlecard":r.titleCard=r.processTitleCard(a[t]);break;default:i[t]=unescape(a[t]+"")}if("live"!==i.media.type&&(i.media.type="recorded"),"video/x-mp4"===i.media.mimeType&&(i.media.mimeType="video/mp4"),"progressive"==i.media.delivery){if("recorded"!==i.media.type&&"video/mp4"!==i.media.mimeType)return n("media error")}else{if("streaming"!=i.media.delivery)return n("media error");if("PC"==r.globalPlayerConfig.getDeviceType()||"application/x-mpegURL"!=i.media.mimeType&&"vnd.apple.mpegURL"!=i.media.mimeType)return n("hls error");i.media.streamType="hls"}return i.media.mimeType&&i.media.mediaURL&&i.media.delivery?i:n("media error")},returnError:function(e,t){var r=this,i="undefined"==typeof e&&e?"unknown":e,a="undefined"==typeof t&&t?"Playlist Error - "+i:i;r.callBack({error:a}),r.destroy()},destroyVastPrsr:function(){var e=this;e.vastPrsrObj&&(e.vastPrsrObj.destroy(),e.vastPrsrObj="")},destroy:function(){var e=this;e.destroyVastPrsr(),e.callBack=null}},vtnParser.VTNM3U8Parser.prototype={basePath:"",getBasePath:function(){for(var e=this,t=e.path.split("/"),r=0;r<t.length-1;r++)e.basePath+=t[r]+"/"},loadFile:function(){var e=this;e.basePath?e.loader=new vtnParser.VTNXHRequest(e.path,function(t){t&&!t.error&&t.response?e.parseMasterFile(t.response):e.returnOriginal()},"text",3e3):e.returnOriginal()},parseMasterFile:function(e){for(var t,r,i,a,n,o=this,s=e.split("\n"),l=[],c=[],d=(new Date).getTime(),p=0;p<s.length;p++)s[p].match(/\.m3u8/i)&&(n=(s[p].match(/http(s?):\/\//i)?"":o.basePath)+""+s[p],t={bandwidth:0,path:n},s[p-1]&&s[p-1].match(/#EXT-X-STREAM-INF:/i)&&s[p-1].match(/BANDWIDTH=/i)&&(r=s[p-1].match(/BANDWIDTH=\d+/i)[0],r=parseFloat(r.match(/\d+/i)[0]),r&&(t.bandwidth=r)),l.push(t)),s[p].match(/#EXT-X-PROGRAM-DATE-TIME:/i)&&(i=s[p].split("#EXT-X-PROGRAM-DATE-TIME:"),i&&i.length&&i[1]&&(a=new Date,a.setW3CDTF(i[1]),c.push(a.getTime()||(new Date).getTime())));if(d=c.length&&c[0]?c[0]:(new Date).getTime(),l.length)o.postProcess(l,d,(new Date).getTime());else{var v=!1;for(p=0;p<s.length;p++)s[p].match(/\.ts/i)&&(v=!0);v?o.returnOriginal():o.callBack({error:"300"})}},postProcess:function(e,t,r){var i,a=this,n="number"==typeof t?t:(new Date).getTime(),o="number"==typeof r?r:(new Date).getTime();1==e.length?a.callBack({children:e,ptd:n,cdt:o}):(i=e.slice(),i.filter(function(e){return e.bandwidth}),i.length?(i.sort(function(e,t){return e.bandwidth-t.bandwidth}),a.callBack({children:i,pdt:n,cdt:o})):a.callBack({children:e,pdt:n,cdt:o}))},returnOriginal:function(){var e=this,t=[];t.push({path:e.path}),e.postProcess(t)},destory:function(){var e=this;e.callBack=null,e.loader&&(e.loader.xhrEnd(),e.loader=null)}},vtnParser.VTNXHRequest.prototype={clb:function(){},url:"",xhrTimer:0,xhrDelay:vtnParser.XHR_DEFAULT_DELAY,xhr:"",retry:!0,makeRequest:function(e){var t=this,r="undefined"!=typeof e&&e?"POST":"GET",i="POST"==r&&t.postData?t.postData:null;if(t.xhrTimer=setTimeout(function(){t.xhrTimeOut()},t.xhrDelay),t.xhr)try{this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null}catch(a){}t.xhr=new XMLHttpRequest,t.xhr.onreadystatechange=function(){t.xhrListner()};try{t.xhr.open(r,t.url,!0),"POST"==r&&t.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.xhr.send(i)}catch(a){t.clb({error:["301"],message:"adnerr:321||"}),t.xhrEnd()}},processURL:function(e){var t,r,i=vtnParser.TIME_STAMP_MACROS.length,a=(new Date).getTime();for(url=e,t=0;i>t;t++)r=vtnParser.TIME_STAMP_MACROS[t],url=url.replace(r,a);return url},xhrTimeOut:function(){var e=this;e.clb&&e.clb({error:["301"]}),e.xhrEnd()},xhrListner:function(){var e=this,t=parseInt(e.xhr.status),r=parseInt(e.xhr.readyState),i="xml"===e.rType?"responseXML":"responseText",a=function(){e.retry?(e.retry=!1,e.makeRequest()):(e.clb({error:["301"],message:"xrsts:"+e.xhr.status+"||adnerr:311||"}),e.xhrEnd())};if(t&&t>=400&&500>t&&(e.clb({error:["301"],message:"xrsts:"+e.xhr.status+"||"}),e.xhrEnd()),r&&4==r)if(e.xhr&&e.xhr[i]){switch(e.rType){case"xml":e.xhr.responseXML&&e.xhr.responseXML.documentElement?e.clb({response:e.xhr.responseXML.documentElement}):a();break;case"json":if(e.xhr.responseText)try{e.clb({response:e.xhr.responseText})}catch(n){e.clb({error:["100"]})}else e.clb({error:["100"]});break;default:e.xhr[i]?e.clb({response:e.xhr.responseText}):e.clb({error:["100"]})}e.xhrEnd()}else a()},xhrEnd:function(){var e=this;e.clb=null,e.xhrTimer&&(clearTimeout(e.xhrTimer),this.xhrTimer=0),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort(),e.xhr=null)}},vtnParser.VTNVastParser.prototype={trivH:!1,loader:"",wrapperCount:0,canBAdPod:!0,passBackEnabled:!1,passBackAds:"",wrprPrsrObj:"",vastTimer:0,b64Tag:"",timeKeeper:function(){var e=this,t=e.parserCnfg.vastTimeout||vtnParser.VAST_DEFAULT_TIMEOUT;clearInterval(e.vastTimer),e.vastTimer=0,e.vastTimer=setInterval(function(){e.callBack([{error:"301",message:"tag["+e.wrapperCount+"]:"+e.b64Tag+"||"}]),e.destroy()},t)},loadVastTag:function(e,t){var r=this,i="",a="",n=r.parserCnfg.wrapperCount||vtnParser.WRAPPER_COUNT,o=r.parserCnfg.vastTimeout||vtnParser.VAST_DEFAULT_TIMEOUT;r.b64Tag=__vtnU.base64_encode(e).replace(/\//g,"~"),r.wrapperCount<=n?(r.timeKeeper(),r.loader=new vtnParser.VTNXHRequest(e,function(e){if(e.response)try{i=vtnPlayerUtils.xml2JObj(e.response),i?r.parseVastJson(i,t,function(e){r.callBack(e)}):(r.callBack([{error:"100",message:"tag["+r.wrapperCount+"]:"+r.b64Tag+"||"}]),r.destroy())}catch(n){n=n||"",r.callBack([{error:"100",message:"tag["+r.wrapperCount+"]:"+r.b64Tag+",error:"+n+"||"}]),r.destroy()}else e.error?(a=e.message||"",a+="tag["+r.wrapperCount+"]:"+r.b64Tag+"||",r.callBack([{error:e.error,message:a}])):r.callBack([{error:"100",message:"tag["+r.wrapperCount+"]:"+r.b64Tag+"||"}])},"xml",o>100?o-100:o)):r.callBack([{error:"302",message:"tag["+r.wrapperCount+"]:"+r.b64Tag+"||"}])},readVastJson:function(e,t){var r=this;r.parseVastJson(e,t,function(e){var t,i,a,n,o,s,l;for(i=e.length,t=0;i>t;t++)if(a=e[t],!a.error&&r.passBackAds&&r.passBackAds.length){for(o=r.passBackAds.length,l=[],n=0;o>n;n++)s=r.passBackAds[n],s&&s.source&&(l[n]=s.source);l.length&&(a.passBackAds={version:"3.0",Ad:l})}r.callBack(e)})},parseVastJson:function(e,t,r){var i,a,n=this,o=parseFloat(e.version),s=[],l={},c=[],d=[],p=[],v="";if(!o)return r([{error:"303",message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"}]),"";if(!(o>=2&&3>=o))return r([{error:"102",message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"}]),"";if(!e.Ad)return r([{error:"303",message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"}]),"";if(Array.isArray(e.Ad))for(var u=0;u<e.Ad.length;u++)s.push(e.Ad[u]);else s.push(e.Ad);if(!s.length)return r([{error:"303",message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"}]),"";for(u=0;u<s.length;u++)c.push(this.preProcessAd(s[u],t));for(l=this.filterPreAds(c),c=l.primary,this.passBackAds=this.passBackEnabled?l.passback:0,u=0;u<c.length;u++)i=this.processAd(c[u],u+1),i.error?(a=this.getProcessedPBAd(u+1),a.error?p.push(i):d.push(a)):d.push(i);d.length?this.postProcessAd(d,0,[],r):p.length?(v=p[0].message||"",r([{error:p[0].error,message:v}])):r([{error:"303",message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"}])},postProcessAd:function(e,t,r,i,a){var n,o,s,l=this,c=[],d="undefined"!=typeof a?a:!1;if(t>=e.length)return i(r),"";var p=e[t];if(p.wrapperurl)l.loadWrapper(p,function(a){a.error?(p.error_calls&&vtnPlayerUtils.errorTracker(p.error_calls,a.error,a.message||""),d?(r.push(a),l.postProcessAd(e,t+=1,r,i)):l.getPostProcessedPBAd(p.sequence||1,function(n){n.error?(r.push(a),l.postProcessAd(e,t+=1,r,i)):(r.push(n),l.postProcessAd(e,t+=1,r,i))})):(r.push(a),l.postProcessAd(e,t+=1,r,i))});else{n=new vtnParser.VTNAdObj(0),o=[];for(var v in p)switch(v){case"companions":break;case"creatives":l.wrapperCount>0&&(n.creatives=[]);for(var u=0;u<p[v].length;u++)p[v][u].type==vtnParser.AD_COMPANION?o.push(p[v][u]):0==l.wrapperCount?c.push(p[v][u]):n.creatives.push(p[v][u]);break;default:n[v]=p[v]}if(0==l.wrapperCount){for(v in c[0])switch(v){case"trackers":s=c[0][v];break;default:n.media[v]=c[0][v]}vtnParser.utilObj.combineTrackers(n,s,l.trivH)}n.companionObj=l.companionFilter(o,o.required),r.push(n),l.postProcessAd(e,t+=1,r,i)}},preProcessAd:function(e,t){var r=new vtnParser.VTNPreAdObj;r.type=t;for(var i in e)switch(i){case"sequence":r.sequence=parseInt(e[i]);break;default:r[i]=e[i]}return r.source=e,r},filterPreAds:function(e){for(var t,r=[],i=[],a=[],n=[],o=[],s=0;s<e.length;s++)t=e[s],t.sequence?i.push(t):r.push(t);i=i.sort(function(e,t){return e.sequence-t.sequence}),this.canBAdPod?i.length?(a=i,r.length&&(n=r)):(a=[r[0]],r.length>=1&&(n=r.slice(1,r.length))):r.length?(a=[r[0]],o=i,r.length>=1&&(n=r.slice(1,r.length))):(a=[i[0]],o=i.length>1?i.slice(1,i.length):[]);for(var s=0;s<o.length;s++)this.preAdErrorCall(o[s]);return{primary:a,passback:n}},processAd:function(e,t){var r=this,i=new vtnParser.VTNAdObj(t),a=0,n=0,o=!0;i.type=e.type;for(var s in e)switch(s.toLowerCase()){case"inline":n||(a=!0,o=!1,this.inLineParser(e[s],i));break;case"wrapper":a||(n=!0,o=!1,this.wrapperParser(e[s],i));break;case"sequence":break;default:i[s]=e[s]}return i.adProcessStart&&__vtnU.hitTracker(i.adProcessStart,1),o&&(i.error=["303"],i.message="tag["+r.wrapperCount+"]:"+r.b64Tag+"||"),i},getProcessedPBAd:function(e){var t,r=this;return r.passBackAds&&r.passBackAds.length?(t=r.processAd(r.passBackAds[0],e),t.error?(r.passBackAds=r.passBackAds.slice(1,r.passBackAds.length),t.error_calls&&vtnPlayerUtils.errorTracker(t.error_calls,t.error,t.message||""),this.getProcessedPBAd(e)):t):{error:["50"],message:"tag["+r.wrapperCount+"]:"+r.b64Tag+"||"}},getPostProcessedPBAd:function(e,t){var r=this,i=r.getProcessedPBAd(e);i.error?t(i):r.postProcessAd([i],0,[],function(i){postAd=i[0],r.passBackAds=r.passBackAds.slice(1,r.passBackAds.length),postAd.error?r.getPostProcessedPBAd(e,t):t(postAd)},!0)},inLineParser:function(e,t){var r=this,i=Array.isArray(e)?e[0]:e;for(var a in i)switch(a.toLowerCase()){case"creatives":t.creatives=this.creativesParser(i[a].Creative,!1,t.type);break;case"error":t.error_calls=this.errorParser(i[a]);break;case"extensions":r.extensionsParser(e,t);break;case"impression":case"impressions":t.trackers.start=t.trackers.start&&Array.isArray(t.trackers.start)?t.trackers.start.concat(this.impressionParser(e[a])):this.impressionParser(e[a]);break;default:t[a.toLowerCase()]=i[a]}Array.isArray(t.creatives)&&t.creatives.length||(t.error=t.creatives&&t.creatives.error?t.creatives.error:["303"],t.message=t.creatives&&t.creatives.message?t.creatives.message:"tag["+r.wrapperCount+"]:"+r.b64Tag+"||"),t.error&&t.error_calls&&vtnPlayerUtils.errorTracker(t.error_calls,t.error,t.message)},wrapperParser:function(e,t){var r=this,i=[],a=!1,n=Array.isArray(e)?e[0]:e;for(var o in n)switch(o.toLowerCase()){case"creatives":i=this.creativesParser(n[o].Creative,!0,t.type);break;case"vastadtaguri":t.wrapperurl=n[o];break;case"error":t.error_calls=this.errorParser(n[o]);break;case"extensions":r.extensionsParser(e,t);break;case"impression":case"impressions":t.trackers.start=t.trackers.start&&Array.isArray(t.trackers.start)?t.trackers.start.concat(this.impressionParser(e[o])):this.impressionParser(e[o]);break;case"description":r.trivH||(r.trivH=0==r.wrapperCount?/trivago_/.test(String(n[o]).toLowerCase()):!1);default:t[o.toLowerCase()]=n[o]}if(console.log("trivH == "+r.trivH),t.wrapperurl){t.creatives=[];for(var o=0;o<i.length;o++)i[o].type==vtnParser.AD_COMPANION?t.creatives.push(i[o]):a||t.type!=i[o].type||(t.creatives.push(i[o]),a=!0)}else t.error=["300"],t.message="tag["+r.wrapperCount+"]:"+r.b64Tag+"||",t.error_calls&&vtnPlayerUtils.errorTracker(t.error_calls,t.error,t.message)},loadWrapper:function(e,t){var r=this,i=new vtnParser.VTNVastParser(e.wrapperurl,r.parserCnfg,r.wrapperCount+1,e.type,function(a){i&&(i.destroy(),i=""),t(a[0].error?a[0]:r.combineWithWrapper(e,a[0]))},!1,!1,r.trivH)},combineWithWrapper:function(e,t){var r,i,a=this,n=new vtnParser.VTNAdObj(e.sequence);for(var o in e)switch(o.toLowerCase()){case"sequence":case"type":n[o]=e[o]}this.combineBasicValues(e,n),this.combineBasicValues(t,n),r=this.combineCreatives(e.creatives||{},t.creatives||{},t.companionObj||{},e.type||vtnParser.AD_LINEAR);for(o in r[0][0])switch(o){case"trackers":i=r[0][0][o];break;default:n.media[o]=r[0][0][o]}return vtnParser.utilObj.combineTrackers(n,i,a.trivH),r[1]&&r[1].companions&&r[1].companions.length&&(n.companionObj=r[1]),n},combineBasicValues:function(e,t){var r=this;for(var i in e)switch(i.toLowerCase()){case"sequence":case"type":case"creatives":case"companions":case"companionobj":break;case"error_calls":t[i]=r.cmbinErrCls(t[i],e[i]);break;case"trackers":vtnParser.utilObj.combineTrackers(t,e[i]);break;default:t[i]=e[i]}},cmbinErrCls:function(e,t){var r="undefined"!=typeof e&&e?Array.isArray(e)?e:[e]:[],i="undefined"!=typeof t&&t?Array.isArray(t)?t:[t]:[];return r.concat(i)},combineCreatives:function(e,t,r,i){for(var a,n,o,s,l=[],c=!1,d=[],p=0,v=0;v<e.length;v++)c||e[v].type!=i?e[v].type==vtnParser.AD_COMPANION&&e[v].companions?(this.wrapperCount||(p=e[v].required||"none"),e[v].companions.length&&d.unshift(e[v])):l.push(e[v]):(a=e[v],c=!0);if(("all"==p||"any"==p)&&"undefined"!=typeof r&&r&&r.companions&&r.companions.length){var s=new vtnParser.VTNCompanionObj;s.required=r.required||"none",s.companions=r.companions,d.unshift(s),p||(p=s.required)}for(c=!1,v=0;v<t.length;v++)c||t[v].type!=i?"all"!=p&&"any"!=p||t[v].type!=vtnParser.AD_COMPANION?l.push(t[v]):(d.unshift(t[v]),p||(p=t[v].required)):(n=t[v],c=!0);return o=new vtnParser.VTNCreativeObj,o.type=i,a&&this.combineBasicValues(a,o),n&&this.combineBasicValues(n,o),l.unshift(o),[l,this.companionFilter(d,p)]},combineBasicCreativeValues:function(e,t){for(var r in e)switch(r.toLowerCase()){case"type":case"companion":break;case"trackers":vtnParser.utilObj.combineTrackers(t,e[r]);break;default:t[r]=e[r]}},errorParser:function(e){for(var t=[],r=Array.isArray(e)?e:[e],i=0;i<r.length;i++)"string"==typeof r[i]&&r[i]&&t.push(unescape(r[i]));return t},preAdErrorCall:function(e){var t=this,r=e.InLine||e.Wrapper,i=r?r.Error:0,a=this.errorParser(i);a.length&&vtnPlayerUtils.errorTracker(a,"200","tag["+t.wrapperCount+"]="+t.b64Tag+"||")},creativesParser:function(e,t,r){var i=this;if("undefined"==typeof e&&!e)return{error:["210","200"],message:"tag["+i.wrapperCount+"]:"+i.b64Tag+"||"};for(var a,n,o=Array.isArray(e)?e:[e],s=[],l=[],c=[],d=0;d<o.length;d++){a=o[d],n=a.CompanionAds?new vtnParser.VTNCompanionObj:new vtnParser.VTNCreativeObj;for(var p in a)switch(p.toLowerCase()){case"linear":r==vtnParser.AD_LINEAR&&this.linearParser(a[p],n);break;case"nonlinearads":r==vtnParser.AD_NONLINEAR&&this.nonLinearAdsParser(a[p],n);break;case"companionads":this.companionsParser(a[p],n);break;default:n[p.toLowerCase()]=a[p]}n.type==vtnParser.AD_COMPANION?c.push(n):n.mediaURL&&n.mimeType||t?l.push(n):n.type==r&&s.push(n)}return l.length?l.concat(c):s.length?{error:s[0].error,message:s[0].message||""}:{error:["201","200"],message:"tag["+i.wrapperCount+"]:"+i.b64Tag+"||"}},impressionParser:function(e){var t=[];if(Array.isArray(e))for(var r=0;r<e.length;r++)t.push({track:e[r],hit:!1});else t.push({track:e,hit:!1});return t},extensionsParser:function(e,t){var r=function(){var t=e.Extensions||e.extensions||"",r=t?t.Extension||t.extension||"":"",i=r?Array.isArray(r)?r:[r]:"";return i},i=r();new vtnParser.VTNVastExtensionsParser(i,t)},linearParser:function(e,t){var r=this,e=Array.isArray(e)?e[0]:e;for(var i in e)switch(i.toLowerCase()){case"trackingevents":r.trackingEventsParser(e[i],t);break;case"videoclicks":r.videoClicksParser(e[i],t);break;case"mediafiles":r.mediaFilesParser(e[i],t);break;default:t[i.toLowerCase()]=e[i]}t.type=vtnParser.AD_LINEAR},nonLinearAdsParser:function(e,t){var r=this,i=Array.isArray(e)?e[0]:e;for(var a in i)switch(a.toLowerCase()){case"trackingevents":r.trackingEventsParser(i[a],t,!0);break;case"nonlinear":r.nonLinearParser(i[a],t);break;default:t[a.toLowerCase()]=_rawLinear[a]}t.type=vtnParser.AD_NONLINEAR},nonLinearParser:function(e,t){for(var r,i,a=this,n=Array.isArray(e)?e:[e],o=[],s="",l=0;l<n.length;l++){r=n[l],i={width:0,height:0},s="";for(var c in r)switch(c.toLowerCase()){case"staticresource":this.staticResourceParser(r[c],i);break;case"nonlinearclickthrough":i.clickThrough=this.clickThroughParser(r[c]);break;case"nonlinearclicktracking":s=r[c];break;case"height":case"width":i[c.toLowerCase()]=parseInt(r[c]);break;case"apiframework":case"id":default:i[c.toLowerCase()]=r[c]}"vibe"==i.id&&"VPAID"==i.apiframework&&i.mediaURL&&i.mimeType?o.push(i):i.width&&i.height&&i.mediaURL&&i.mimeType&&o.push(i)}o.length?(t=__vtnU.combineObjs(t,o[0]),s&&(t.trackers.click&&Array.isArray(t.trackers.click)||(t.trackers.click=[]),t.trackers.click.push({track:String(s).replace(/\n/g,"").trim(),hit:!1,offset:""}))):t=__vtnU.combineObjs(t,{error:["503"],message:"tag["+a.wrapperCount+"]:"+a.b64Tag+"||"})},companionsParser:function(e,t){if("undefined"==typeof e||!e)return!1;for(var r,i=[],a=!1,n=[],o=Array.isArray(e)?e:[e],s=0;s<o.length;s++)a||!o[s].required||"all"!=o[s].required&&"any"!=o[s].required&&"none"!=o[s].required||(a=!0,t.required=o[s].required),o[s].Companion&&(i=i.concat(Array.isArray(o[s].Companion)?o[s].Companion:[o[s].Companion]));for(s=0;s<i.length;s++)r=this.companionParser(i[s]),r.error||n.push(r);t.companions=n},companionParser:function(e){var t=this,r=new vtnParser.VTNCreativeObj;for(var i in e)switch(i.toLowerCase()){case"width":case"height":r[i.toLowerCase()]=parseInt(e[i]);break;case"staticresource":this.staticResourceParser(e[i],r);break;case"companionclickthrough":r.clickThrough=this.clickThroughParser(e[i]);break;case"trackingevents":this.trackingEventsParser(e[i],r,!0);break;default:r[i.toLowerCase()]=e[i]}return r.width&&r.height&&r.mimeType&&r.mediaURL?r:{error:["600"],message:"tag["+t.wrapperCount+"]:"+t.b64Tag+"||"}},companionFilter:function(e,t){var r=[],i=[],a=!1,n="undefined"!=typeof t||t?t:"none";for(o=0;o<e.length;o++)r=r.concat(e[o].companions);for(var o=0;o<r.length;o++){a=!1;for(var s=0;s<i.length;s++)r[o].width==i[s].width&&r[o].height==i[s].height&&(a=!0);a||i.push(r[o])}return{required:n,companions:i}},clickThroughParser:function(e){return Array.isArray(e)?e[0]:e},trackingEventsParser:function(e,t,r){var i,a,n,o,s="undefined"!=typeof r&&r?!0:!1;for(var l in e){i=l.toString().toLowerCase(),a=Array.isArray(e[l])?e[l]:[e[l]],("impression"==i||"impressions"==i||!s&&"creativeview"==i)&&(i="start"),void 0==t.trackers[i]&&(t.trackers[i]=[]);for(var c=0;c<a.length;c++)a[c]&&(n="progress"==i?a[c].value:a[c],o=a[c].offset||"",t.trackers[i].push({track:String(n).replace(/\n/g,"").trim(),hit:!1,offset:o}))}},videoClicksParser:function(e,t){for(var r in e)switch(r.toLowerCase()){
case"clickthrough":t.clickThrough=Array.isArray(e[r])?e[r][0]:e[r];break;case"clicktracking":case"clicktrack":if(void 0==t.trackers.click&&(t.trackers.click=[]),Array.isArray(e[r]))for(var i=0;i<e[r].length;i++)t.trackers.click.push({track:e[r][i]});else t.trackers.click.push({track:e[r]})}},staticResourceParser:function(e,t){var r,i,a,n,o="undefined"!=typeof e&&e?Array.isArray(e)?e:[e]:"",s=[];if(!o||!o.length)return!1;for(i=o.length,r=0;i>r;r++){a=o[r],n={};for(var l in a)switch(l.toLowerCase()){case"creativetype":("image/jpg"==a[l]||"image/jpeg"==a[l]||"image/png"==a[l]||"image/gif"==a[l]||"application/javascript"==a[l])&&(n.mimeType=a[l]);break;case"staticurl":n.mediaURL=a[l].trim();break;default:n[l.toLowerCase()]=a[l]}n.mimeType&&n.mediaURL&&s.push(n)}t=__vtnU.combineObjs(t,s[0])},mediaFilesParser:function(e,t){if("undefined"==typeof e&&!e)return!1;var r,i,a,n=this,o=Array.isArray(e)?e:[e],s=[],l=[];for(r=0;r<o.length;r++)o[r].MediaFile&&(l=Array.isArray(o[r].MediaFile)?l.concat(o[r].MediaFile):l.concat([o[r].MediaFile]));if(!l.length)return!1;for(r=0;r<l.length;r++){i=l[r],a={delivery:"progressive",type:"recorded"};for(var c in i)switch(c.toLowerCase()){case"apiframework":a.apiFramework=i[c];break;case"type":("video/mp4"==i[c]||"application/x-shockwave-flash"==i[c]||"application/javascript"==i[c]||"application/x-javascript"==i[c]||"text/javascript"==i[c])&&(a.mimeType=i[c]);break;case"mediaurl":a.mediaURL=i[c].trim();break;default:a[c.toLowerCase()]=i[c]}a.mimeType&&a.mediaURL&&("application/x-shockwave-flash"==a.mimeType||"application/javascript"==a.mimeType||"application/x-javascript"==a.mimeType||"text/javascript"==a.mimeType?(("application/x-javascript"==a.mimeType||"text/javascript"==a.mimeType)&&(a.mimeType="application/javascript"),"PC"==n.globalPlayerConfig.getDeviceType()&&"VPAID"==a.apiFramework||"GoogleIMA"==a.apiFramework?s.push(a):!1):s.push(a))}s.length?(s=vtnParser.utilObj.filterAPIFramework(s,"GoogleIMA")||vtnParser.utilObj.filterMIMEType(s,"video/mp4")||vtnParser.utilObj.filterAPIFramework(s,"VPAID")||s,t=__vtnU.combineObjs(t,vtnParser.utilObj.getMinBandWidth(s,vtnParser.utilObj.isProgressive)||s[0])):__creative=__vtnU.combineObjs(t,{error:["403"],message:"tag["+n.wrapperCount+"]:"+n.b64Tag+"||"})},destroy:function(){var e=this;clearInterval(e.vastTimer),e.vastTimer=0,e.loader&&e.loader.xhrEnd(),e.wrprPrsrObj&&e.wrprPrsrObj.destroy(),this.callBack=function(){return""}}},vtnParser.VTNVastExtensionsParser.prototype={extensionParser:function(){for(var e=this,t=0;t<e.extensions.length;t++)e.processExtension(e.extensions[t])},processExtension:function(e){var t=this;e.AdProcessStart?t.adObj.adProcessStart=e.AdProcessStart:e.Viewability&&(t.adObj.viewability=e.Viewability)}};var VTNLiveTimeKeeper=function(e){this.scheduler="undefined"!=typeof e?e:""};VTNLiveTimeKeeper.prototype={liveTime:0,liveInterval:500,proxyTicker:0,proxyMode:!1,playing:!1,timeUpdate:function(e,t){var r=this;r.liveTime=e?r.liveTime+t:t,r.scheduler&&r.playing&&r.scheduler.timeUpdate(r.liveTime)},startTimer:function(){var e=this;e.proxyMode=!0,e.proxyTicker&&(clearInterval(e.proxyTicker),e.proxyTicker=0),e.proxyTicker=setInterval(function(){e.timeUpdate(!0,e.liveInterval)},e.liveInterval)},endTimer:function(){var e=this;e.proxyMode=!1,e.proxyTicker&&(clearInterval(e.proxyTicker),e.proxyTicker=0)},setState:function(e){var t=this;t.playing="undefined"!=typeof e&&"playing"==e},destory:function(){var e=this;e.proxyTicker&&(clearInterval(e.proxyTicker),e.proxyTicker=0)}};var VTNAdScheduler=function(e){this.socket=new VTNSocket,this.slots=[],this.dfltAdBreakLength="undefined"!=typeof e&&e?e:this.dfltAdBreakLength};VTNAdScheduler.prototype={AD_SLOT:"Ad Slot",START_SLOT:"start",END_SLOT:"end",socket:"",id:"",socketURL:"",liveTime:0,dfltAdBreakLength:3e4,timeUpdate:function(e){var t=this;t.liveTime=e},check4Slot:function(){var e,t=this,r=0,i="";if(!t.slots.length)return"";for(var a=0;a<t.slots.length&&(r=a,e=t.slots[a],e.time<=t.liveTime);a++)i=e.name;t.slots=t.slots.slice(r),i&&t.callBack(i==t.START_SLOT?"startAdBreak":"endAdBreak")},listen:function(e,t,r){var i=this;i.callBack="undefined"!=typeof r&&r?r:function(e){console.log("no call back assigned")},i.id=e,i.socketURL=t,i.setUpSocket()},setUpSocket:function(){var e=this;e.socket&&(e.socket.onStartAd(function(t){e.callBack("startAdBreak");var r=parseInt(t)||e.liveTime;e.insertSlot([{name:e.START_SLOT,time:r,forced:!1,inserted:!0},{name:e.END_SLOT,time:r+e.dftAdIntrvl,forced:!1,inserted:!0}])}),e.socket.onResumeLive(function(t){e.callBack("endAdBreak");var r=parseInt(t)||e.liveTime;e.insertSlot([{name:e.END_SLOT,time:r,forced:!0,inserted:!0}])}),e.socket.onUpdateSchedule(function(t){e.processSchedule(t)}),e.socket.onReady(function(){e.socket.connect(e.id,e.socketURL)}))},processW3CDTFTime:function(e){var t=new Date;return t.setW3CDTF(e),t.getTime()||""},processSchedule:function(e){var t,r,i,a=this,n="string"==typeof e?VTN_JSON.parse(e):e;a.slots=a.slots.filter(function(e){return e.inserted});for(t in n)r=n[t],i={},(r.name=a.AD_SLOT)&&(i[a.START_SLOT]=r[a.START_SLOT]?a.processW3CDTFTime(r[a.START_SLOT]):"",i[a.END_SLOT]=r[a.END_SLOT]?a.processW3CDTFTime(r[a.END_SLOT]):""),i[a.START_SLOT]&&i[a.END_SLOT]&&a.insertSlot([{name:a.START_SLOT,time:i[a.START_SLOT],forced:!1,inserted:!1},{name:a.END_SLOT,time:i[a.END_SLOT],forced:!1,inserted:!1}])},insertSlot:function(e){for(var t=this,r=Array.isArray(e)?e:[e],i=0;i<r.length;i++)t.slots.push(r[i]);t.slots.sort(function(e,t){return e.time-t.time}),t.slots=t.slots.filter(function(e,r,i){var a=!1;if(e.name==t.START_SLOT){if(0==r)return!0;if(i[r-1].name&&i[r-1].name!==t.START_SLOT)return!0}else if(e.name==t.END_SLOT){if(e.forced)return!0;if(r-1>=0&&i[r-1].name&&i[r-1].name==t.END_SLOT&&i[r-1].forced)return!1;if(r+1<=i.length-1&&i[r+1].name&&i[r+1].name!==t.END_SLOT)return!0;if(r>=i.length-1)return!0}return a})},destory:function(){var e=this;this.slot="",e.socket&&e.socket.destory()}};var VTNHTML5Player=function(e){vtnPlayerUtils.deviceType||vtnPlayerUtils.deviceCheck();vtnGlblPCS.getInstance();return vt_html5player=new VTHtml5Player,vt_html5player.bootup(e),vt_html5player};
/*
           _               _       _         _   _                                     
          | |             (_)     (_)       | | | |                                    
 __      _| |__  _   _     _  ___  _ _ __   | |_| |__   ___   _ __   __ ___   ___   _  
 \ \ /\ / / '_ \| | | |   | |/ _ \| | '_ \  | __| '_ \ / _ \ | '_ \ / _` \ \ / / | | | 
  \ V  V /| | | | |_| |   | | (_) | | | | | | |_| | | |  __/ | | | | (_| |\ V /| |_| | 
   \_/\_/ |_| |_|\__, |   | |\___/|_|_| |_|  \__|_| |_|\___| |_| |_|\__,_| \_/  \__, | 
                  __/ |  _/ |                                                    __/ | 
                 |___/  |__/                                                    |___/  
	       _	                                                    _                          _           _       
          | |                                                      | |                        (_)         | |      
 __      _| |__   ___ _ __    _   _  ___  _   _    ___ __ _ _ __   | |__   ___    __ _   _ __  _ _ __ __ _| |_ ___ 
 \ \ /\ / / '_ \ / _ \ '_ \  | | | |/ _ \| | | |  / __/ _` | '_ \  | '_ \ / _ \  / _` | | '_ \| | '__/ _` | __/ _ \
  \ V  V /| | | |  __/ | | | | |_| | (_) | |_| | | (_| (_| | | | | | |_) |  __/ | (_| | | |_) | | | | (_| | ||  __/
   \_/\_/ |_| |_|\___|_| |_|  \__, |\___/ \__,_|  \___\__,_|_| |_| |_.__/ \___|  \__,_| | .__/|_|_|  \__,_|\__\___|
                               __/ |                                                    | |                        
                              |___/                                                     |_|                        

Steve Jobs (1955 - 2011)			  
*/